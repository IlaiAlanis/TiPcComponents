// <auto-generated />
using System;
using API_TI.Data;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Infrastructure;
using Microsoft.EntityFrameworkCore.Metadata;
using Microsoft.EntityFrameworkCore.Migrations;
using Microsoft.EntityFrameworkCore.Storage.ValueConversion;

#nullable disable

namespace API_TI.Migrations
{
    [DbContext(typeof(TiPcComponentsContext))]
    [Migration("20251118094738_AddUsuarioTokenFields")]
    partial class AddUsuarioTokenFields
    {
        /// <inheritdoc />
        protected override void BuildTargetModel(ModelBuilder modelBuilder)
        {
#pragma warning disable 612, 618
            modelBuilder
                .HasAnnotation("ProductVersion", "9.0.10")
                .HasAnnotation("Relational:MaxIdentifierLength", 128);

            SqlServerModelBuilderExtensions.UseIdentityColumns(modelBuilder);

            modelBuilder.Entity("API_TI.Models.dbModels.AuditoriaEvento", b =>
                {
                    b.Property<int>("IdAuditoriaEvento")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_auditoria_evento");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IdAuditoriaEvento"));

                    b.Property<string>("Accion")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)")
                        .HasColumnName("accion");

                    b.Property<string>("DetalleJson")
                        .HasColumnType("nvarchar(max)")
                        .HasColumnName("detalle_json");

                    b.Property<string>("Dispositivo")
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)")
                        .HasColumnName("dispositivo");

                    b.Property<DateTime>("Fecha")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<int?>("IdRegistro")
                        .HasColumnType("int")
                        .HasColumnName("id_registro");

                    b.Property<string>("IpOrigen")
                        .HasMaxLength(45)
                        .HasColumnType("nvarchar(45)")
                        .HasColumnName("ip_origen");

                    b.Property<string>("TablaAfectada")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)")
                        .HasColumnName("tabla_afectada");

                    b.Property<int?>("UsuarioId")
                        .HasColumnType("int")
                        .HasColumnName("usuario_id");

                    b.HasKey("IdAuditoriaEvento")
                        .HasName("PK__auditori__C05175631AC53D78");

                    b.HasIndex("UsuarioId");

                    b.HasIndex(new[] { "TablaAfectada", "Fecha" }, "IX_auditoria_tabla_fecha");

                    b.ToTable("auditoria_evento");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.AutenticacionProveedor", b =>
                {
                    b.Property<int>("IdAutenticacionProveedor")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_autenticacion_proveedor");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IdAutenticacionProveedor"));

                    b.Property<string>("Descripcion")
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)")
                        .HasColumnName("descripcion");

                    b.Property<bool>("EstaActivo")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true)
                        .HasColumnName("esta_activo");

                    b.Property<DateTime>("FechaCreacion")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_creacion")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<string>("Nombre")
                        .IsRequired()
                        .HasMaxLength(150)
                        .HasColumnType("nvarchar(150)")
                        .HasColumnName("nombre");

                    b.Property<string>("Tipo")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)")
                        .HasDefaultValue("local")
                        .HasColumnName("tipo");

                    b.HasKey("IdAutenticacionProveedor")
                        .HasName("PK__autentic__214386326E983766");

                    b.HasIndex(new[] { "Nombre" }, "UQ__autentic__72AFBCC6E218EC8A")
                        .IsUnique();

                    b.ToTable("autenticacion_proveedor");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.Carrito", b =>
                {
                    b.Property<int>("IdCarrito")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_carrito");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IdCarrito"));

                    b.Property<int>("CantidadTotal")
                        .HasColumnType("int")
                        .HasColumnName("cantidad_total");

                    b.Property<decimal>("DescuentoTotal")
                        .HasColumnType("decimal(18, 2)")
                        .HasColumnName("descuento_total");

                    b.Property<bool>("EstaActivo")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true)
                        .HasColumnName("esta_activo");

                    b.Property<int>("EstatusVentaId")
                        .HasColumnType("int")
                        .HasColumnName("estatus_venta_id");

                    b.Property<DateTime>("FechaActualizacion")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime")
                        .HasColumnName("fecha_actualizacion")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<DateTime>("FechaCreacion")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime")
                        .HasColumnName("fecha_creacion")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<decimal>("Subtotal")
                        .HasColumnType("decimal(18, 2)")
                        .HasColumnName("subtotal");

                    b.Property<int>("UsuarioId")
                        .HasColumnType("int")
                        .HasColumnName("usuario_id");

                    b.HasKey("IdCarrito")
                        .HasName("PK__carrito__83A2AD9C24F1D044");

                    b.HasIndex("EstatusVentaId");

                    b.HasIndex(new[] { "UsuarioId" }, "IX_carrito_usuario");

                    b.ToTable("carrito");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.CarritoDescuento", b =>
                {
                    b.Property<int>("IdCarritoDescuento")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_carrito_descuento");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IdCarritoDescuento"));

                    b.Property<int>("CarritoId")
                        .HasColumnType("int")
                        .HasColumnName("carrito_id");

                    b.Property<int?>("CarritoItemId")
                        .HasColumnType("int")
                        .HasColumnName("carrito_item_id");

                    b.Property<int>("DescuentoId")
                        .HasColumnType("int")
                        .HasColumnName("descuento_id");

                    b.Property<DateTime>("FechaAplicacion")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime")
                        .HasColumnName("fecha_aplicacion")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<decimal>("MontoAplicado")
                        .HasColumnType("decimal(18, 0)")
                        .HasColumnName("monto_aplicado");

                    b.Property<int?>("ReglaDescuentoId")
                        .HasColumnType("int")
                        .HasColumnName("regla_descuento_id");

                    b.HasKey("IdCarritoDescuento")
                        .HasName("PK__carrito___A3FB0E2558FBF0FC");

                    b.HasIndex("CarritoId");

                    b.HasIndex("CarritoItemId");

                    b.HasIndex("DescuentoId");

                    b.HasIndex("ReglaDescuentoId");

                    b.ToTable("carrito_descuento");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.CarritoItem", b =>
                {
                    b.Property<int>("IdCarritoItem")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_carrito_item");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IdCarritoItem"));

                    b.Property<int>("Cantidad")
                        .HasColumnType("int")
                        .HasColumnName("cantidad");

                    b.Property<int>("CarritoId")
                        .HasColumnType("int")
                        .HasColumnName("carrito_id");

                    b.Property<decimal>("DescuentoAplicado")
                        .HasColumnType("decimal(18, 2)")
                        .HasColumnName("descuento_aplicado");

                    b.Property<decimal?>("PrecioFinal")
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("decimal(19, 2)")
                        .HasColumnName("precio_final")
                        .HasComputedColumnSql("([precio_unitario]-[descuento_aplicado])", true);

                    b.Property<decimal>("PrecioUnitario")
                        .HasColumnType("decimal(18, 2)")
                        .HasColumnName("precio_unitario");

                    b.Property<int>("ProductoId")
                        .HasColumnType("int")
                        .HasColumnName("producto_id");

                    b.HasKey("IdCarritoItem")
                        .HasName("PK__carrito___240DF0BEC9E41B3F");

                    b.HasIndex("ProductoId");

                    b.HasIndex(new[] { "CarritoId" }, "IX_carrito_item_carrito");

                    b.ToTable("carrito_item");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.CategoriaAtributo", b =>
                {
                    b.Property<int>("IdCategoriaAtributo")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_categoria_atributo");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IdCategoriaAtributo"));

                    b.Property<int>("AtributoId")
                        .HasColumnType("int")
                        .HasColumnName("atributo_id");

                    b.Property<int>("CategoriaId")
                        .HasColumnType("int")
                        .HasColumnName("categoria_id");

                    b.Property<bool>("EsObligatorio")
                        .HasColumnType("bit")
                        .HasColumnName("es_obligatorio");

                    b.Property<int?>("Orden")
                        .HasColumnType("int")
                        .HasColumnName("orden");

                    b.HasKey("IdCategoriaAtributo")
                        .HasName("PK__categori__327F2EE2AF8F6198");

                    b.HasIndex("AtributoId");

                    b.HasIndex(new[] { "CategoriaId" }, "UQ_categoria_atributo")
                        .IsUnique();

                    b.ToTable("categoria_atributo");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.Categorium", b =>
                {
                    b.Property<int>("IdCategoria")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_categoria");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IdCategoria"));

                    b.Property<string>("Descripcion")
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)")
                        .HasColumnName("descripcion");

                    b.Property<bool>("EstaActivo")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true)
                        .HasColumnName("esta_activo");

                    b.Property<DateTime>("FechaActualizacion")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_actualizacion")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<DateTime>("FechaCreacion")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_creacion")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<string>("NombreCategoria")
                        .IsRequired()
                        .HasMaxLength(150)
                        .HasColumnType("nvarchar(150)")
                        .HasColumnName("nombre_categoria");

                    b.HasKey("IdCategoria")
                        .HasName("PK__categori__CD54BC5A8A88B86A");

                    b.HasIndex(new[] { "NombreCategoria" }, "UQ__categori__4EBF62599EDA684E")
                        .IsUnique();

                    b.ToTable("categoria");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.Ciudad", b =>
                {
                    b.Property<int>("IdCiudad")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_ciudad");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IdCiudad"));

                    b.Property<int>("EstadoId")
                        .HasColumnType("int")
                        .HasColumnName("estado_id");

                    b.Property<string>("IdExterno")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)")
                        .HasColumnName("id_externo");

                    b.Property<string>("NombreCiudad")
                        .IsRequired()
                        .HasMaxLength(150)
                        .HasColumnType("nvarchar(150)")
                        .HasColumnName("nombre_ciudad");

                    b.HasKey("IdCiudad")
                        .HasName("PK__ciudad__B7DC4CD549A4CE8C");

                    b.HasIndex("EstadoId");

                    b.HasIndex(new[] { "IdExterno" }, "UQ__ciudad__109C46F365961A35")
                        .IsUnique();

                    b.HasIndex(new[] { "IdExterno" }, "UQ_ciudad_id_externo")
                        .IsUnique();

                    b.ToTable("ciudad");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.ConfiguracionGlobal", b =>
                {
                    b.Property<int>("IdConfiguracion")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_configuracion");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IdConfiguracion"));

                    b.Property<string>("Clave")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)")
                        .HasColumnName("clave");

                    b.Property<string>("Descripcion")
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)")
                        .HasColumnName("descripcion");

                    b.Property<DateTime>("FechaActualizacion")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_actualizacion")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<string>("TipoDato")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)")
                        .HasColumnName("tipo_dato");

                    b.Property<int?>("UsuarioId")
                        .HasColumnType("int")
                        .HasColumnName("usuario_id");

                    b.Property<string>("Valor")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)")
                        .HasColumnName("valor");

                    b.HasKey("IdConfiguracion")
                        .HasName("PK__configur__16A13EBD3AD90FA7");

                    b.HasIndex("UsuarioId");

                    b.HasIndex(new[] { "Clave" }, "UQ__configur__71DCA3DB8484DFF4")
                        .IsUnique();

                    b.ToTable("configuracion_global");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.CouponUsado", b =>
                {
                    b.Property<int>("IdCouponUsado")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_coupon_usado");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IdCouponUsado"));

                    b.Property<bool>("Aplicado")
                        .HasColumnType("bit")
                        .HasColumnName("aplicado");

                    b.Property<string>("CodigoCupon")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)")
                        .HasColumnName("codigo_cupon");

                    b.Property<decimal>("DescuentoAplicado")
                        .HasColumnType("decimal(18, 2)")
                        .HasColumnName("descuento_aplicado");

                    b.Property<DateTime>("FechaUsado")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_usado")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<int>("OrdenId")
                        .HasColumnType("int")
                        .HasColumnName("orden_id");

                    b.Property<int>("ReglaDescuentoId")
                        .HasColumnType("int")
                        .HasColumnName("regla_descuento_id");

                    b.Property<string>("TipoValor")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)")
                        .HasColumnName("tipo_valor");

                    b.Property<int>("UsuarioId")
                        .HasColumnType("int")
                        .HasColumnName("usuario_id");

                    b.Property<decimal>("Valor")
                        .HasColumnType("decimal(18, 2)")
                        .HasColumnName("valor");

                    b.HasKey("IdCouponUsado")
                        .HasName("PK__coupon_u__73B19E4FDDDC4BDB");

                    b.HasIndex("OrdenId");

                    b.HasIndex(new[] { "UsuarioId" }, "IX_coupon_usado_usuario");

                    b.HasIndex(new[] { "ReglaDescuentoId" }, "UQ__coupon_u__076DC2BBFB4B84F2")
                        .IsUnique();

                    b.HasIndex(new[] { "UsuarioId" }, "UQ__coupon_u__2ED7D2AE6C359DF3")
                        .IsUnique();

                    b.ToTable("coupon_usado");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.Descuento", b =>
                {
                    b.Property<int>("IdDescuento")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_descuento");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IdDescuento"));

                    b.Property<string>("Descripcion")
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)")
                        .HasColumnName("descripcion");

                    b.Property<bool>("EstaActivo")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true)
                        .HasColumnName("esta_activo");

                    b.Property<DateTime>("FechaActualizacion")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_actualizacion")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<DateTime>("FechaCreacion")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_creacion")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<string>("NombreDescuento")
                        .IsRequired()
                        .HasMaxLength(150)
                        .HasColumnType("nvarchar(150)")
                        .HasColumnName("nombre_descuento");

                    b.Property<string>("TipoValor")
                        .IsRequired()
                        .HasMaxLength(10)
                        .HasColumnType("nvarchar(10)")
                        .HasColumnName("tipo_valor");

                    b.Property<decimal>("Valor")
                        .HasColumnType("decimal(10, 2)")
                        .HasColumnName("valor");

                    b.HasKey("IdDescuento")
                        .HasName("PK__descuent__4F9A1A80ACEC2895");

                    b.HasIndex(new[] { "EstaActivo" }, "IX_descuento_activo");

                    b.ToTable("descuento");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.DescuentoObjetivo", b =>
                {
                    b.Property<int>("IdDescuentoObjetivo")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_descuento_objetivo");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IdDescuentoObjetivo"));

                    b.Property<int>("DescuentoId")
                        .HasColumnType("int")
                        .HasColumnName("descuento_id");

                    b.Property<DateTime>("FechaCreacion")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_creacion")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<int>("ObjetivoId")
                        .HasColumnType("int")
                        .HasColumnName("objetivo_id");

                    b.Property<string>("TipoObjetivo")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)")
                        .HasColumnName("tipo_objetivo");

                    b.HasKey("IdDescuentoObjetivo")
                        .HasName("PK__descuent__E32AE812796A7B35");

                    b.HasIndex("DescuentoId");

                    b.ToTable("descuento_objetivo");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.Direccion", b =>
                {
                    b.Property<int>("IdDireccion")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_direccion");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IdDireccion"));

                    b.Property<string>("Calle")
                        .HasMaxLength(150)
                        .HasColumnType("nvarchar(150)")
                        .HasColumnName("calle");

                    b.Property<int>("CiudadId")
                        .HasColumnType("int")
                        .HasColumnName("ciudad_id");

                    b.Property<string>("CodigoPostal")
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)")
                        .HasColumnName("codigo_postal");

                    b.Property<string>("Colonia")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)")
                        .HasColumnName("colonia");

                    b.Property<bool>("EsDefault")
                        .HasColumnType("bit")
                        .HasColumnName("es_default");

                    b.Property<int>("EstadoId")
                        .HasColumnType("int")
                        .HasColumnName("estado_id");

                    b.Property<string>("Etiqueta")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)")
                        .HasColumnName("etiqueta");

                    b.Property<DateTime>("FechaCreacion")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_creacion")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<string>("NumeroExterior")
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)")
                        .HasColumnName("numero_exterior");

                    b.Property<string>("NumeroInterior")
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)")
                        .HasColumnName("numero_interior");

                    b.Property<int>("PaisId")
                        .HasColumnType("int")
                        .HasColumnName("pais_id");

                    b.Property<int>("UsuarioId")
                        .HasColumnType("int")
                        .HasColumnName("usuario_id");

                    b.HasKey("IdDireccion")
                        .HasName("PK__direccio__25C35D074C3E74DF");

                    b.HasIndex("CiudadId");

                    b.HasIndex("EstadoId");

                    b.HasIndex("PaisId");

                    b.HasIndex("UsuarioId");

                    b.ToTable("direccion");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.Envio", b =>
                {
                    b.Property<int>("IdEnvio")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_envio");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IdEnvio"));

                    b.Property<decimal>("CostoEnvio")
                        .HasColumnType("decimal(10, 2)")
                        .HasColumnName("costo_envio");

                    b.Property<int>("EstatusEnvioId")
                        .HasColumnType("int")
                        .HasColumnName("estatus_envio_id");

                    b.Property<DateTime>("FechaActualizacion")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_actualizacion")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<DateTime>("FechaCreacion")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_creacion")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<DateTime?>("FechaEntrega")
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_entrega");

                    b.Property<DateTime?>("FechaEstimadaEntrega")
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_estimada_entrega");

                    b.Property<DateTime?>("FechaRecoleccion")
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_recoleccion");

                    b.Property<string>("NumeroGuia")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)")
                        .HasColumnName("numero_guia");

                    b.Property<int>("OperadorEnvioId")
                        .HasColumnType("int")
                        .HasColumnName("operador_envio_id");

                    b.Property<int>("OrdenId")
                        .HasColumnType("int")
                        .HasColumnName("orden_id");

                    b.Property<decimal?>("PesoTotal")
                        .HasColumnType("decimal(10, 2)")
                        .HasColumnName("peso_total");

                    b.Property<int>("UsuarioId")
                        .HasColumnType("int")
                        .HasColumnName("usuario_id");

                    b.HasKey("IdEnvio")
                        .HasName("PK__envio__8C48C8CA965F1076");

                    b.HasIndex("UsuarioId");

                    b.HasIndex(new[] { "EstatusEnvioId" }, "IX_envio_estatus");

                    b.HasIndex(new[] { "OperadorEnvioId", "EstatusEnvioId" }, "IX_envio_operador_estatus");

                    b.HasIndex(new[] { "OrdenId" }, "IX_envio_orden");

                    b.HasIndex(new[] { "NumeroGuia" }, "UQ__envio__FD7B4CA6B15C62DB")
                        .IsUnique()
                        .HasFilter("[numero_guia] IS NOT NULL");

                    b.ToTable("envio");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.EnvioEstatusHistorial", b =>
                {
                    b.Property<int>("IdEnvioHistorial")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_envio_historial");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IdEnvioHistorial"));

                    b.Property<string>("Comentario")
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)")
                        .HasColumnName("comentario");

                    b.Property<int>("EnvioId")
                        .HasColumnType("int")
                        .HasColumnName("envio_id");

                    b.Property<int>("EstatusEnvioId")
                        .HasColumnType("int")
                        .HasColumnName("estatus_envio_id");

                    b.Property<DateTime>("FechaCambio")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_cambio")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<int?>("UsuarioId")
                        .HasColumnType("int")
                        .HasColumnName("usuario_id");

                    b.HasKey("IdEnvioHistorial")
                        .HasName("PK__envio_es__C26AFB5CDE5EB8D7");

                    b.HasIndex("EnvioId");

                    b.HasIndex("EstatusEnvioId");

                    b.ToTable("envio_estatus_historial");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.ErrorCodigo", b =>
                {
                    b.Property<int>("Codigo")
                        .HasColumnType("int")
                        .HasColumnName("codigo");

                    b.Property<bool>("Activo")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true)
                        .HasColumnName("activo");

                    b.Property<string>("Categoria")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)")
                        .HasColumnName("categoria");

                    b.Property<string>("Mensaje")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)")
                        .HasColumnName("mensaje");

                    b.Property<string>("Nombre")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)")
                        .HasColumnName("nombre");

                    b.Property<int>("SeveridadId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(1)
                        .HasColumnName("severidad_id");

                    b.HasKey("Codigo")
                        .HasName("PK__error_co__40F9A20712DCAFFC");

                    b.HasIndex("SeveridadId");

                    b.ToTable("error_codigo");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.ErrorLog", b =>
                {
                    b.Property<int>("IdErrorLog")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_error_log");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IdErrorLog"));

                    b.Property<int>("Codigo")
                        .HasColumnType("int")
                        .HasColumnName("codigo");

                    b.Property<string>("DetalleTecnico")
                        .HasColumnType("nvarchar(max)")
                        .HasColumnName("detalle_tecnico");

                    b.Property<string>("EndpointApp")
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)")
                        .HasColumnName("endpoint_app");

                    b.Property<DateTime?>("Fecha")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime")
                        .HasColumnName("fecha")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<string>("Mensaje")
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)")
                        .HasColumnName("mensaje");

                    b.Property<int?>("UsuarioId")
                        .HasColumnType("int")
                        .HasColumnName("usuario_id");

                    b.HasKey("IdErrorLog")
                        .HasName("PK__error_lo__565A9BB197F46095");

                    b.HasIndex("Codigo");

                    b.HasIndex("UsuarioId");

                    b.ToTable("error_log");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.Estado", b =>
                {
                    b.Property<int>("IdEstado")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_estado");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IdEstado"));

                    b.Property<string>("IdExterno")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)")
                        .HasColumnName("id_externo");

                    b.Property<string>("NombreEstado")
                        .IsRequired()
                        .HasMaxLength(150)
                        .HasColumnType("nvarchar(150)")
                        .HasColumnName("nombre_estado");

                    b.Property<int>("PaisId")
                        .HasColumnType("int")
                        .HasColumnName("pais_id");

                    b.HasKey("IdEstado")
                        .HasName("PK__estado__86989FB2AFDD4714");

                    b.HasIndex("PaisId");

                    b.HasIndex(new[] { "IdExterno" }, "UQ__estado__109C46F3856B99B8")
                        .IsUnique();

                    b.HasIndex(new[] { "IdExterno" }, "UQ_estado_id_externo")
                        .IsUnique();

                    b.ToTable("estado");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.EstatusEnvio", b =>
                {
                    b.Property<int>("IdEstatusEnvio")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_estatus_envio");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IdEstatusEnvio"));

                    b.Property<string>("Categoria")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)")
                        .HasColumnName("categoria");

                    b.Property<string>("Codigo")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)")
                        .HasColumnName("codigo");

                    b.Property<string>("Descripcion")
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)")
                        .HasColumnName("descripcion");

                    b.Property<bool>("EstaActivo")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true)
                        .HasColumnName("esta_activo");

                    b.Property<DateTime>("FechaCreacion")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_creacion")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<string>("NombreEstatusEnvio")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)")
                        .HasColumnName("nombre_estatus_envio");

                    b.Property<int?>("Orden")
                        .HasColumnType("int")
                        .HasColumnName("orden");

                    b.HasKey("IdEstatusEnvio")
                        .HasName("PK__estatus___558B51D38A801C7B");

                    b.HasIndex(new[] { "Codigo" }, "UQ__estatus___40F9A206B2E52408")
                        .IsUnique();

                    b.ToTable("estatus_envio");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.EstatusPago", b =>
                {
                    b.Property<int>("IdEstatusPago")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_estatus_pago");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IdEstatusPago"));

                    b.Property<string>("Categoria")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)")
                        .HasColumnName("categoria");

                    b.Property<string>("Descripcion")
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)")
                        .HasColumnName("descripcion");

                    b.Property<DateTime>("FechaCreacion")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_creacion")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<string>("NombreEstatusPago")
                        .IsRequired()
                        .HasMaxLength(150)
                        .HasColumnType("nvarchar(150)")
                        .HasColumnName("nombre_estatus_pago");

                    b.HasKey("IdEstatusPago")
                        .HasName("PK__estatus___89D1D33EF4A97F58");

                    b.HasIndex(new[] { "NombreEstatusPago" }, "UQ__estatus___D653B1FDCBFD39C5")
                        .IsUnique();

                    b.ToTable("estatus_pago");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.EstatusVentum", b =>
                {
                    b.Property<int>("IdEstatusVenta")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_estatus_venta");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IdEstatusVenta"));

                    b.Property<string>("Categoria")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)")
                        .HasColumnName("categoria");

                    b.Property<string>("Codigo")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)")
                        .HasColumnName("codigo");

                    b.Property<string>("Descripcion")
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)")
                        .HasColumnName("descripcion");

                    b.Property<bool>("EstaActivo")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true)
                        .HasColumnName("esta_activo");

                    b.Property<DateTime>("FechaCreacion")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime")
                        .HasColumnName("fecha_creacion")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<string>("NombreEstatusVenta")
                        .IsRequired()
                        .HasMaxLength(150)
                        .HasColumnType("nvarchar(150)")
                        .HasColumnName("nombre_estatus_venta");

                    b.HasKey("IdEstatusVenta")
                        .HasName("PK__estatus___E676626AD1DA5EAD");

                    b.HasIndex(new[] { "Codigo" }, "UQ__estatus___40F9A206C8C336C0")
                        .IsUnique();

                    b.ToTable("estatus_venta");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.Factura", b =>
                {
                    b.Property<int>("IdFactura")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_factura");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IdFactura"));

                    b.Property<string>("DireccionFiscal")
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)")
                        .HasColumnName("direccion_fiscal");

                    b.Property<DateTime?>("FechaCancelacion")
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_cancelacion");

                    b.Property<DateTime>("FechaEmision")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_emision")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<decimal>("Impuestos")
                        .HasColumnType("decimal(10, 2)")
                        .HasColumnName("impuestos");

                    b.Property<string>("NumeroFactura")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)")
                        .HasColumnName("numero_factura");

                    b.Property<int>("OrdenId")
                        .HasColumnType("int")
                        .HasColumnName("orden_id");

                    b.Property<byte[]>("PdfFactura")
                        .HasColumnType("varbinary(max)")
                        .HasColumnName("pdf_factura");

                    b.Property<string>("RazonSocial")
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)")
                        .HasColumnName("razon_social");

                    b.Property<string>("RfcCliente")
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)")
                        .HasColumnName("rfc_cliente");

                    b.Property<decimal>("Subtotal")
                        .HasColumnType("decimal(10, 2)")
                        .HasColumnName("subtotal");

                    b.Property<decimal>("Total")
                        .HasColumnType("decimal(10, 2)")
                        .HasColumnName("total");

                    b.Property<int>("UsuarioId")
                        .HasColumnType("int")
                        .HasColumnName("usuario_id");

                    b.Property<string>("Uuid")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)")
                        .HasColumnName("uuid");

                    b.Property<string>("XmlFactura")
                        .HasColumnType("nvarchar(max)")
                        .HasColumnName("xml_factura");

                    b.HasKey("IdFactura")
                        .HasName("PK__factura__6C08ED534821C496");

                    b.HasIndex("OrdenId");

                    b.HasIndex("UsuarioId");

                    b.HasIndex(new[] { "NumeroFactura" }, "UQ__factura__3DC4B241558193B1")
                        .IsUnique();

                    b.ToTable("factura");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.Impuesto", b =>
                {
                    b.Property<int>("IdImpuesto")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_impuesto");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IdImpuesto"));

                    b.Property<string>("Descripcion")
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)")
                        .HasColumnName("descripcion");

                    b.Property<bool>("EstaActivo")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true)
                        .HasColumnName("esta_activo");

                    b.Property<int?>("EstadoId")
                        .HasColumnType("int")
                        .HasColumnName("estado_id");

                    b.Property<DateTime>("FechaCreacion")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_creacion")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<string>("NombreImpuesto")
                        .IsRequired()
                        .HasMaxLength(150)
                        .HasColumnType("nvarchar(150)")
                        .HasColumnName("nombre_impuesto");

                    b.Property<int?>("PaisId")
                        .HasColumnType("int")
                        .HasColumnName("pais_id");

                    b.Property<decimal>("Porcentaje")
                        .HasColumnType("decimal(5, 2)")
                        .HasColumnName("porcentaje");

                    b.HasKey("IdImpuesto")
                        .HasName("PK__impuesto__8546BDFCF037EE54");

                    b.HasIndex("EstadoId");

                    b.HasIndex("PaisId");

                    b.ToTable("impuesto");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.InventarioActual", b =>
                {
                    b.Property<int>("ProductoId")
                        .HasColumnType("int")
                        .HasColumnName("producto_id");

                    b.Property<int>("VariacionId")
                        .HasColumnType("int")
                        .HasColumnName("variacion_id");

                    b.Property<DateTime>("FechaActualizacion")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_actualizacion")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<int>("StockActual")
                        .HasColumnType("int")
                        .HasColumnName("stock_actual");

                    b.Property<int?>("StockMaximo")
                        .HasColumnType("int")
                        .HasColumnName("stock_maximo");

                    b.Property<int?>("StockMinimo")
                        .HasColumnType("int")
                        .HasColumnName("stock_minimo");

                    b.HasKey("ProductoId", "VariacionId")
                        .HasName("PK__inventar__BD553D6577DA8A07");

                    b.HasIndex("VariacionId");

                    b.ToTable("inventario_actual");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.InventarioMovimiento", b =>
                {
                    b.Property<int>("IdMovimiento")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_movimiento");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IdMovimiento"));

                    b.Property<int>("Cantidad")
                        .HasColumnType("int")
                        .HasColumnName("cantidad");

                    b.Property<string>("Comentario")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)")
                        .HasColumnName("comentario");

                    b.Property<DateTime>("FechaCreacion")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_creacion")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<DateTime>("FechaMovimiento")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_movimiento")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<int?>("IdReferencia")
                        .HasColumnType("int")
                        .HasColumnName("id_referencia");

                    b.Property<int>("ProductoId")
                        .HasColumnType("int")
                        .HasColumnName("producto_id");

                    b.Property<int>("TipoMovimientoInventarioId")
                        .HasColumnType("int")
                        .HasColumnName("tipo_movimiento_inventario_id");

                    b.Property<int>("UsuarioId")
                        .HasColumnType("int")
                        .HasColumnName("usuario_id");

                    b.Property<int?>("VariacionId")
                        .HasColumnType("int")
                        .HasColumnName("variacion_id");

                    b.HasKey("IdMovimiento")
                        .HasName("PK__inventar__2A071C2442FAE25B");

                    b.HasIndex("TipoMovimientoInventarioId");

                    b.HasIndex("UsuarioId");

                    b.HasIndex("VariacionId");

                    b.HasIndex(new[] { "ProductoId", "FechaMovimiento" }, "IX_inventario_movimiento_producto")
                        .IsDescending(false, true);

                    b.ToTable("inventario_movimiento");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.Marca", b =>
                {
                    b.Property<int>("IdMarca")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_marca");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IdMarca"));

                    b.Property<string>("Descripcion")
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)")
                        .HasColumnName("descripcion");

                    b.Property<bool>("EstaActivo")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true)
                        .HasColumnName("esta_activo");

                    b.Property<DateTime>("FechaActualizacion")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_actualizacion")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<DateTime>("FechaCreacion")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_creacion")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<string>("NombreMarca")
                        .IsRequired()
                        .HasMaxLength(150)
                        .HasColumnType("nvarchar(150)")
                        .HasColumnName("nombre_marca");

                    b.HasKey("IdMarca")
                        .HasName("PK__marca__7E43E99EE7C355E7");

                    b.HasIndex(new[] { "NombreMarca" }, "UQ__marca__6059F572758C505D")
                        .IsUnique();

                    b.ToTable("marca");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.MetodoPago", b =>
                {
                    b.Property<int>("IdMetodoPago")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_metodo_pago");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IdMetodoPago"));

                    b.Property<string>("Descripcion")
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)")
                        .HasColumnName("descripcion");

                    b.Property<bool>("EstaActivo")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true)
                        .HasColumnName("esta_activo");

                    b.Property<DateTime>("FechaCreacion")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_creacion")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<string>("NombreMetodoPago")
                        .IsRequired()
                        .HasMaxLength(150)
                        .HasColumnType("nvarchar(150)")
                        .HasColumnName("nombre_metodo_pago");

                    b.Property<string>("Tipo")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)")
                        .HasColumnName("tipo");

                    b.HasKey("IdMetodoPago")
                        .HasName("PK__metodo_p__85BE0EBC91F715AB");

                    b.HasIndex(new[] { "NombreMetodoPago" }, "UQ__metodo_p__436F61F2B76A257D")
                        .IsUnique();

                    b.ToTable("metodo_pago");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.NotificacionUsuario", b =>
                {
                    b.Property<int>("IdNotificacion")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_notificacion");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IdNotificacion"));

                    b.Property<DateTime>("FechaEnvio")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_envio")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<bool>("Leido")
                        .HasColumnType("bit")
                        .HasColumnName("leido");

                    b.Property<string>("Mensaje")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)")
                        .HasColumnName("mensaje");

                    b.Property<string>("Tipo")
                        .IsRequired()
                        .HasMaxLength(50)
                        .IsUnicode(false)
                        .HasColumnType("varchar(50)")
                        .HasColumnName("tipo");

                    b.Property<string>("Titulo")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)")
                        .HasColumnName("titulo");

                    b.Property<int>("UsuarioId")
                        .HasColumnType("int")
                        .HasColumnName("usuario_id");

                    b.HasKey("IdNotificacion")
                        .HasName("PK__notifica__8270F9A531482AE2");

                    b.HasIndex("UsuarioId");

                    b.ToTable("notificacion_usuario");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.OperadorEnvio", b =>
                {
                    b.Property<int>("IdOperadorEnvio")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_operador_envio");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IdOperadorEnvio"));

                    b.Property<string>("CodigoOperador")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)")
                        .HasColumnName("codigo_operador");

                    b.Property<string>("Correo")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)")
                        .HasColumnName("correo");

                    b.Property<bool>("EstaActivo")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true)
                        .HasColumnName("esta_activo");

                    b.Property<DateTime>("FechaActualizacion")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_actualizacion")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<DateTime>("FechaCreacion")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_creacion")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<string>("NombreOperador")
                        .HasMaxLength(150)
                        .HasColumnType("nvarchar(150)")
                        .HasColumnName("nombre_operador");

                    b.Property<string>("Nota")
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)")
                        .HasColumnName("nota");

                    b.Property<string>("SitioWeb")
                        .HasMaxLength(150)
                        .HasColumnType("nvarchar(150)")
                        .HasColumnName("sitio_web");

                    b.Property<string>("Telefono")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)")
                        .HasColumnName("telefono");

                    b.HasKey("IdOperadorEnvio")
                        .HasName("PK__operador__0109F579240AB429");

                    b.HasIndex(new[] { "CodigoOperador" }, "UQ__operador__2C1428C1C04ECEAC")
                        .IsUnique()
                        .HasFilter("[codigo_operador] IS NOT NULL");

                    b.ToTable("operador_envio");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.Orden", b =>
                {
                    b.Property<int>("IdOrden")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_orden");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IdOrden"));

                    b.Property<int>("CarritoId")
                        .HasColumnType("int")
                        .HasColumnName("carrito_id");

                    b.Property<decimal>("DescuentoTotal")
                        .HasColumnType("decimal(18, 0)")
                        .HasColumnName("descuento_total");

                    b.Property<int>("DireccionEnvioId")
                        .HasColumnType("int")
                        .HasColumnName("direccion_envio_id");

                    b.Property<int>("EstatusVentaId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(2)
                        .HasColumnName("estatus_venta_id");

                    b.Property<DateTime>("FechaActualizacion")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime")
                        .HasColumnName("fecha_actualizacion")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<DateTime>("FechaCreacion")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime")
                        .HasColumnName("fecha_creacion")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<DateTime>("FechaOrden")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime")
                        .HasColumnName("fecha_orden")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<int>("ImpuestoId")
                        .HasColumnType("int")
                        .HasColumnName("impuesto_id");

                    b.Property<decimal>("ImpuestoTotal")
                        .HasColumnType("decimal(18, 0)")
                        .HasColumnName("impuesto_total");

                    b.Property<int>("MetodoPagoId")
                        .HasColumnType("int")
                        .HasColumnName("metodo_pago_id");

                    b.Property<string>("NumeroOrden")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)")
                        .HasColumnName("numero_orden");

                    b.Property<string>("ReferenciaMetodoPago")
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)")
                        .HasColumnName("referencia_metodo_pago");

                    b.Property<decimal>("Subtotal")
                        .HasColumnType("decimal(18, 0)")
                        .HasColumnName("subtotal");

                    b.Property<decimal>("Total")
                        .HasColumnType("decimal(18, 0)")
                        .HasColumnName("total");

                    b.Property<int>("UsuarioId")
                        .HasColumnType("int")
                        .HasColumnName("usuario_id");

                    b.HasKey("IdOrden")
                        .HasName("PK__orden__DD5B8F334A165CC5");

                    b.HasIndex("CarritoId");

                    b.HasIndex("DireccionEnvioId");

                    b.HasIndex("ImpuestoId");

                    b.HasIndex("MetodoPagoId");

                    b.HasIndex(new[] { "EstatusVentaId" }, "IX_orden_estatus");

                    b.HasIndex(new[] { "FechaOrden" }, "IX_orden_fecha")
                        .IsDescending();

                    b.HasIndex(new[] { "UsuarioId" }, "IX_orden_usuario");

                    b.HasIndex(new[] { "UsuarioId", "EstatusVentaId" }, "IX_orden_usuario_estatus");

                    b.ToTable("orden");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.OrdenDescuento", b =>
                {
                    b.Property<int>("IdOrdenDescuento")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_orden_descuento");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IdOrdenDescuento"));

                    b.Property<int>("DescuentoId")
                        .HasColumnType("int")
                        .HasColumnName("descuento_id");

                    b.Property<DateTime>("FechaAplicacion")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime")
                        .HasColumnName("fecha_aplicacion")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<decimal>("MontoAplicado")
                        .HasColumnType("decimal(10, 2)")
                        .HasColumnName("monto_aplicado");

                    b.Property<int>("OrdenId")
                        .HasColumnType("int")
                        .HasColumnName("orden_id");

                    b.Property<int?>("OrdenItemId")
                        .HasColumnType("int")
                        .HasColumnName("orden_item_id");

                    b.HasKey("IdOrdenDescuento")
                        .HasName("PK__orden_de__3432CEA259316832");

                    b.HasIndex("DescuentoId");

                    b.HasIndex("OrdenId");

                    b.HasIndex("OrdenItemId");

                    b.ToTable("orden_descuento");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.OrdenDevolucion", b =>
                {
                    b.Property<int>("IdDevolucion")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_devolucion");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IdDevolucion"));

                    b.Property<int>("Cantidad")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(1)
                        .HasColumnName("cantidad");

                    b.Property<int>("EstatusVentaId")
                        .HasColumnType("int")
                        .HasColumnName("estatus_venta_id");

                    b.Property<DateTime?>("FechaResolucion")
                        .HasColumnType("datetime")
                        .HasColumnName("fecha_resolucion");

                    b.Property<DateTime>("FechaSolicitud")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime")
                        .HasColumnName("fecha_solicitud")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<int?>("MetodoReembolsoId")
                        .HasColumnType("int")
                        .HasColumnName("metodo_reembolso_id");

                    b.Property<decimal?>("MontoReembolso")
                        .HasColumnType("decimal(18, 2)")
                        .HasColumnName("monto_reembolso");

                    b.Property<string>("Motivo")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)")
                        .HasColumnName("motivo");

                    b.Property<int>("OrdenId")
                        .HasColumnType("int")
                        .HasColumnName("orden_id");

                    b.Property<int?>("OrdenItemId")
                        .HasColumnType("int")
                        .HasColumnName("orden_item_id");

                    b.Property<int>("UsuarioId")
                        .HasColumnType("int")
                        .HasColumnName("usuario_id");

                    b.HasKey("IdDevolucion")
                        .HasName("PK__orden_de__0BBAEF8DFA9AD78F");

                    b.HasIndex("EstatusVentaId");

                    b.HasIndex("MetodoReembolsoId");

                    b.HasIndex("OrdenItemId");

                    b.HasIndex(new[] { "OrdenId" }, "IX_orden_devolucion_orden");

                    b.HasIndex(new[] { "UsuarioId" }, "IX_orden_devolucion_usuario");

                    b.ToTable("orden_devolucion");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.OrdenEstadoHistorial", b =>
                {
                    b.Property<int>("IdHistorialOrden")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_historial_orden");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IdHistorialOrden"));

                    b.Property<string>("Comentario")
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)")
                        .HasColumnName("comentario");

                    b.Property<int>("EstatusVentaId")
                        .HasColumnType("int")
                        .HasColumnName("estatus_venta_id");

                    b.Property<DateTime>("FechaCambio")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime")
                        .HasColumnName("fecha_cambio")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<int>("OrdenId")
                        .HasColumnType("int")
                        .HasColumnName("orden_id");

                    b.Property<int>("UsuarioId")
                        .HasColumnType("int")
                        .HasColumnName("usuario_id");

                    b.HasKey("IdHistorialOrden")
                        .HasName("PK__orden_es__45B1AC094F198BDD");

                    b.HasIndex("EstatusVentaId");

                    b.HasIndex("OrdenId");

                    b.HasIndex("UsuarioId");

                    b.ToTable("orden_estado_historial");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.OrdenItem", b =>
                {
                    b.Property<int>("IdOrdenItem")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_orden_item");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IdOrdenItem"));

                    b.Property<int>("Cantidad")
                        .HasColumnType("int")
                        .HasColumnName("cantidad");

                    b.Property<decimal?>("DescuentoAplicado")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("decimal(18, 2)")
                        .HasDefaultValue(0m)
                        .HasColumnName("descuento_aplicado");

                    b.Property<int>("OrdenId")
                        .HasColumnType("int")
                        .HasColumnName("orden_id");

                    b.Property<decimal>("PrecioUnitario")
                        .HasColumnType("decimal(18, 2)")
                        .HasColumnName("precio_unitario");

                    b.Property<int>("ProductoId")
                        .HasColumnType("int")
                        .HasColumnName("producto_id");

                    b.Property<decimal?>("Subtotal")
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("decimal(30, 2)")
                        .HasColumnName("subtotal")
                        .HasComputedColumnSql("(([precio_unitario]-[descuento_aplicado])*[cantidad])", true);

                    b.HasKey("IdOrdenItem")
                        .HasName("PK__orden_it__ADF7D768DB5FF162");

                    b.HasIndex("OrdenId");

                    b.HasIndex("ProductoId");

                    b.ToTable("orden_item");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.PagoTransaccion", b =>
                {
                    b.Property<int>("IdPago")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_pago");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IdPago"));

                    b.Property<int?>("EstatusPagoId")
                        .HasColumnType("int")
                        .HasColumnName("estatus_pago_id");

                    b.Property<DateTime>("FechaTransaccion")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_transaccion")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<int>("MetodoPagoId")
                        .HasColumnType("int")
                        .HasColumnName("metodo_pago_id");

                    b.Property<decimal>("Monto")
                        .HasColumnType("decimal(10, 2)")
                        .HasColumnName("monto");

                    b.Property<int>("OrdenId")
                        .HasColumnType("int")
                        .HasColumnName("orden_id");

                    b.Property<string>("ReferenciaGateway")
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)")
                        .HasColumnName("referencia_gateway");

                    b.Property<string>("RespuestaGateway")
                        .HasColumnType("nvarchar(max)")
                        .HasColumnName("respuesta_gateway");

                    b.Property<string>("TransaccionGatewayId")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)")
                        .HasColumnName("transaccion_gateway_id");

                    b.HasKey("IdPago")
                        .HasName("PK__pago_tra__0941B074C1A47E57");

                    b.HasIndex("EstatusPagoId");

                    b.HasIndex("MetodoPagoId");

                    b.HasIndex(new[] { "ReferenciaGateway" }, "IX_pago_gateway");

                    b.HasIndex(new[] { "OrdenId" }, "IX_pago_orden");

                    b.ToTable("pago_transaccion");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.Pai", b =>
                {
                    b.Property<int>("IdPais")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_pais");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IdPais"));

                    b.Property<string>("Codigo")
                        .IsRequired()
                        .HasMaxLength(5)
                        .HasColumnType("nvarchar(5)")
                        .HasColumnName("codigo");

                    b.Property<string>("IdExterno")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)")
                        .HasColumnName("id_externo");

                    b.Property<string>("NombrePais")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)")
                        .HasColumnName("nombre_pais");

                    b.HasKey("IdPais")
                        .HasName("PK__pais__0941A3A7E01C72C5");

                    b.HasIndex(new[] { "IdExterno" }, "UQ__pais__109C46F35EC1C539")
                        .IsUnique();

                    b.HasIndex(new[] { "NombrePais" }, "UQ__pais__ACBDCE73BAED01A7")
                        .IsUnique();

                    b.HasIndex(new[] { "IdExterno" }, "UQ_pais_id_externo")
                        .IsUnique();

                    b.HasIndex(new[] { "NombrePais" }, "UQ_pais_nombre_pais")
                        .IsUnique();

                    b.ToTable("pais");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.Producto", b =>
                {
                    b.Property<int>("IdProducto")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_producto");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IdProducto"));

                    b.Property<int>("CategoriaId")
                        .HasColumnType("int")
                        .HasColumnName("categoria_id");

                    b.Property<string>("CodigoBarras")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)")
                        .HasColumnName("codigo_barras");

                    b.Property<string>("Descripcion")
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)")
                        .HasColumnName("descripcion");

                    b.Property<string>("Dimensiones")
                        .HasMaxLength(100)
                        .IsUnicode(false)
                        .HasColumnType("varchar(100)")
                        .HasColumnName("dimensiones");

                    b.Property<bool>("EsDestacado")
                        .HasColumnType("bit")
                        .HasColumnName("es_destacado");

                    b.Property<bool>("EstaActivo")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true)
                        .HasColumnName("esta_activo");

                    b.Property<DateTime>("FechaActualizacion")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_actualizacion")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<DateTime>("FechaCreacion")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_creacion")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<int>("MarcaId")
                        .HasColumnType("int")
                        .HasColumnName("marca_id");

                    b.Property<string>("NombreProducto")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)")
                        .HasColumnName("nombre_producto");

                    b.Property<decimal?>("Peso")
                        .HasColumnType("decimal(10, 2)")
                        .HasColumnName("peso");

                    b.Property<decimal>("PrecioBase")
                        .HasColumnType("decimal(18, 2)")
                        .HasColumnName("precio_base");

                    b.Property<decimal?>("PrecioPromocional")
                        .HasColumnType("decimal(18, 2)")
                        .HasColumnName("precio_promocional");

                    b.Property<int>("ProveedorId")
                        .HasColumnType("int")
                        .HasColumnName("proveedor_id");

                    b.Property<string>("Sku")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)")
                        .HasColumnName("sku");

                    b.Property<int>("StockTotal")
                        .HasColumnType("int")
                        .HasColumnName("stock_total");

                    b.HasKey("IdProducto")
                        .HasName("PK__producto__FF341C0D8F9FDEE6");

                    b.HasIndex(new[] { "CategoriaId" }, "IX_producto_categoria");

                    b.HasIndex(new[] { "CategoriaId", "EstaActivo" }, "IX_producto_categoria_activo");

                    b.HasIndex(new[] { "MarcaId" }, "IX_producto_marca");

                    b.HasIndex(new[] { "PrecioBase" }, "IX_producto_precio");

                    b.HasIndex(new[] { "ProveedorId" }, "IX_producto_proveedor");

                    b.HasIndex(new[] { "CodigoBarras" }, "UQ__producto__730FA6ABAEB7578F")
                        .IsUnique();

                    b.HasIndex(new[] { "Sku" }, "UQ__producto__DDDF4BE79CBC60F6")
                        .IsUnique();

                    b.HasIndex(new[] { "CodigoBarras" }, "UQ_producto_codigo_barras")
                        .IsUnique();

                    b.HasIndex(new[] { "Sku" }, "UQ_producto_sku")
                        .IsUnique();

                    b.ToTable("producto");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.ProductoAtributo", b =>
                {
                    b.Property<int>("IdAtributo")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_atributo");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IdAtributo"));

                    b.Property<bool>("EstaActivo")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true)
                        .HasColumnName("esta_activo");

                    b.Property<DateTime>("FechaCreacion")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_creacion")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<string>("Nombre")
                        .IsRequired()
                        .HasMaxLength(150)
                        .HasColumnType("nvarchar(150)")
                        .HasColumnName("nombre");

                    b.Property<string>("Tipo")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)")
                        .HasColumnName("tipo");

                    b.HasKey("IdAtributo")
                        .HasName("PK__producto__3BB14C885B55F4F1");

                    b.ToTable("producto_atributo");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.ProductoDescuento", b =>
                {
                    b.Property<int>("ProductoId")
                        .HasColumnType("int")
                        .HasColumnName("producto_id");

                    b.Property<int>("DescuentoId")
                        .HasColumnType("int")
                        .HasColumnName("descuento_id");

                    b.Property<DateTime>("FechaCreacion")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_creacion")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.HasKey("ProductoId", "DescuentoId");

                    b.HasIndex("DescuentoId");

                    b.ToTable("producto_descuento");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.ProductoHistorialPrecio", b =>
                {
                    b.Property<int>("IdHistorialPrecio")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_historial_precio");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IdHistorialPrecio"));

                    b.Property<DateTime>("FechaCambio")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_cambio")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<string>("FuenteCambio")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)")
                        .HasColumnName("fuente_cambio");

                    b.Property<string>("Motivo")
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)")
                        .HasColumnName("motivo");

                    b.Property<decimal>("PrecioAnterior")
                        .HasColumnType("decimal(18, 2)")
                        .HasColumnName("precio_anterior");

                    b.Property<decimal>("PrecioNuevo")
                        .HasColumnType("decimal(18, 2)")
                        .HasColumnName("precio_nuevo");

                    b.Property<int>("ProductoId")
                        .HasColumnType("int")
                        .HasColumnName("producto_id");

                    b.Property<int?>("UsuarioId")
                        .HasColumnType("int")
                        .HasColumnName("usuario_id");

                    b.HasKey("IdHistorialPrecio")
                        .HasName("PK__producto__5EDBC272DE0727BB");

                    b.HasIndex("ProductoId");

                    b.HasIndex("UsuarioId");

                    b.ToTable("producto_historial_precio");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.ProductoImagen", b =>
                {
                    b.Property<int>("IdImagen")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_imagen");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IdImagen"));

                    b.Property<bool>("EsPrincipal")
                        .HasColumnType("bit")
                        .HasColumnName("es_principal");

                    b.Property<int?>("Orden")
                        .HasColumnType("int")
                        .HasColumnName("orden");

                    b.Property<int>("ProductoId")
                        .HasColumnType("int")
                        .HasColumnName("producto_id");

                    b.Property<string>("UrlImagen")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)")
                        .HasColumnName("url_imagen");

                    b.HasKey("IdImagen")
                        .HasName("PK__producto__27CC2689056832DE");

                    b.HasIndex("ProductoId");

                    b.ToTable("producto_imagen");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.ProductoResena", b =>
                {
                    b.Property<int>("IdResena")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_resena");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IdResena"));

                    b.Property<int>("Calificacion")
                        .HasColumnType("int")
                        .HasColumnName("calificacion");

                    b.Property<string>("Comentario")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)")
                        .HasColumnName("comentario");

                    b.Property<bool>("EstaActivo")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true)
                        .HasColumnName("esta_activo");

                    b.Property<DateTime>("FechaCreacion")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_creacion")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<int>("ProductoId")
                        .HasColumnType("int")
                        .HasColumnName("producto_id");

                    b.Property<int>("UsuarioId")
                        .HasColumnType("int")
                        .HasColumnName("usuario_id");

                    b.HasKey("IdResena")
                        .HasName("PK__producto__06CD93630D6FB33C");

                    b.HasIndex("UsuarioId");

                    b.HasIndex(new[] { "ProductoId" }, "IX_producto_resena_producto");

                    b.ToTable("producto_resena");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.ProductoVariacion", b =>
                {
                    b.Property<int>("IdVariacion")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_variacion");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IdVariacion"));

                    b.Property<string>("CodigoBarras")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)")
                        .HasColumnName("codigo_barras");

                    b.Property<bool>("EstaActivo")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true)
                        .HasColumnName("esta_activo");

                    b.Property<DateTime>("FechaActualizacion")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_actualizacion")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<DateTime>("FechaCreacion")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_creacion")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<string>("ImagenUrl")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)")
                        .HasColumnName("imagen_url");

                    b.Property<decimal>("Precio")
                        .HasColumnType("decimal(18, 2)")
                        .HasColumnName("precio");

                    b.Property<int>("ProductoId")
                        .HasColumnType("int")
                        .HasColumnName("producto_id");

                    b.Property<string>("Sku")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)")
                        .HasColumnName("sku");

                    b.Property<int>("Stock")
                        .HasColumnType("int")
                        .HasColumnName("stock");

                    b.HasKey("IdVariacion")
                        .HasName("PK__producto__950135CE35297297");

                    b.HasIndex(new[] { "ProductoId" }, "IX_producto_variacion");

                    b.HasIndex(new[] { "CodigoBarras" }, "UQ__producto__730FA6AB6A9571B5")
                        .IsUnique();

                    b.HasIndex(new[] { "Sku" }, "UQ__producto__DDDF4BE7E7A04E71")
                        .IsUnique()
                        .HasFilter("[sku] IS NOT NULL");

                    b.ToTable("producto_variacion");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.ProductoVariacionAtributo", b =>
                {
                    b.Property<int>("VariacionId")
                        .HasColumnType("int")
                        .HasColumnName("variacion_id");

                    b.Property<int>("AtributoId")
                        .HasColumnType("int")
                        .HasColumnName("atributo_id");

                    b.Property<int?>("Orden")
                        .HasColumnType("int")
                        .HasColumnName("orden");

                    b.Property<string>("Unidad")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)")
                        .HasColumnName("unidad");

                    b.Property<string>("Valor")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)")
                        .HasColumnName("valor");

                    b.HasKey("VariacionId", "AtributoId");

                    b.HasIndex("AtributoId");

                    b.ToTable("producto_variacion_atributo");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.ProductoVariacionHistorialPrecio", b =>
                {
                    b.Property<int>("IdHistorialVariaonPrecio")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_historial_variaon_precio");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IdHistorialVariaonPrecio"));

                    b.Property<DateTime>("FechaCambio")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_cambio")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<string>("FuenteCambio")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)")
                        .HasColumnName("fuente_cambio");

                    b.Property<string>("Motivo")
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)")
                        .HasColumnName("motivo");

                    b.Property<decimal>("PrecioAnterior")
                        .HasColumnType("decimal(18, 2)")
                        .HasColumnName("precio_anterior");

                    b.Property<decimal>("PrecioNuevo")
                        .HasColumnType("decimal(18, 2)")
                        .HasColumnName("precio_nuevo");

                    b.Property<int>("ProductoId")
                        .HasColumnType("int")
                        .HasColumnName("producto_id");

                    b.Property<int?>("UsuarioId")
                        .HasColumnType("int")
                        .HasColumnName("usuario_id");

                    b.HasKey("IdHistorialVariaonPrecio")
                        .HasName("PK__producto__FBF5B40B5472F801");

                    b.ToTable("producto_variacion_historial_precio");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.Proveedor", b =>
                {
                    b.Property<int>("IdProveedor")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_proveedor");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IdProveedor"));

                    b.Property<int>("CiudadId")
                        .HasColumnType("int")
                        .HasColumnName("ciudad_id");

                    b.Property<string>("CodigoPostal")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)")
                        .HasColumnName("codigo_postal");

                    b.Property<string>("Correo")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)")
                        .HasColumnName("correo");

                    b.Property<string>("Direccion")
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)")
                        .HasColumnName("direccion");

                    b.Property<bool>("EstaActivo")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true)
                        .HasColumnName("esta_activo");

                    b.Property<int>("EstadoId")
                        .HasColumnType("int")
                        .HasColumnName("estado_id");

                    b.Property<DateTime>("FechaActualizacion")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_actualizacion")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<DateTime>("FechaCreacion")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_creacion")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<string>("NombreContacto")
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)")
                        .HasColumnName("nombre_contacto");

                    b.Property<string>("NombreProveedor")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)")
                        .HasColumnName("nombre_proveedor");

                    b.Property<int>("PaisId")
                        .HasColumnType("int")
                        .HasColumnName("pais_id");

                    b.Property<string>("Telefono")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)")
                        .HasColumnName("telefono");

                    b.HasKey("IdProveedor")
                        .HasName("PK__proveedo__8D3DFE28152A8916");

                    b.HasIndex("CiudadId");

                    b.HasIndex("EstadoId");

                    b.HasIndex("PaisId");

                    b.ToTable("proveedor");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.ReglaDescuento", b =>
                {
                    b.Property<int>("IdReglaDescuento")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_regla_descuento");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IdReglaDescuento"));

                    b.Property<int?>("CantidadMaxPorUsuario")
                        .HasColumnType("int")
                        .HasColumnName("cantidad_max_por_usuario");

                    b.Property<int?>("CantidadMaxUso")
                        .HasColumnType("int")
                        .HasColumnName("cantidad_max_uso");

                    b.Property<int?>("CantidadMinima")
                        .HasColumnType("int")
                        .HasColumnName("cantidad_minima");

                    b.Property<string>("Coupon")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)")
                        .HasColumnName("coupon");

                    b.Property<int>("DescuentoId")
                        .HasColumnType("int")
                        .HasColumnName("descuento_id");

                    b.Property<bool>("EstaActivo")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true)
                        .HasColumnName("esta_activo");

                    b.Property<DateTime>("FechaActualizacion")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_actualizacion")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<DateTime>("FechaCreacion")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_creacion")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<DateTime>("FechaFin")
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_fin");

                    b.Property<DateTime>("FechaInicio")
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_inicio");

                    b.Property<int>("Prioridad")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(1)
                        .HasColumnName("prioridad");

                    b.Property<decimal?>("TotalMinimo")
                        .HasColumnType("decimal(10, 2)")
                        .HasColumnName("total_minimo");

                    b.Property<int>("UsoActual")
                        .HasColumnType("int")
                        .HasColumnName("uso_actual");

                    b.Property<int?>("UsuarioId")
                        .HasColumnType("int")
                        .HasColumnName("usuario_id");

                    b.Property<bool>("UsuariosNuevosOnly")
                        .HasColumnType("bit")
                        .HasColumnName("usuarios_nuevos_only");

                    b.HasKey("IdReglaDescuento")
                        .HasName("PK__regla_de__A5E9FA1E9294B7FB");

                    b.HasIndex("DescuentoId");

                    b.HasIndex("UsuarioId");

                    b.HasIndex(new[] { "Coupon" }, "UQ__regla_de__10C591937EF55A05")
                        .IsUnique()
                        .HasFilter("[coupon] IS NOT NULL");

                    b.ToTable("regla_descuento");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.Rol", b =>
                {
                    b.Property<int>("IdRol")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_rol");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IdRol"));

                    b.Property<string>("Descripcion")
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)")
                        .HasColumnName("descripcion");

                    b.Property<bool>("EstaActivo")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true)
                        .HasColumnName("esta_activo");

                    b.Property<DateTime>("FechaCreacion")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_creacion")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<string>("NombreRol")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)")
                        .HasColumnName("nombre_rol");

                    b.HasKey("IdRol")
                        .HasName("PK__rol__6ABCB5E0DD9F762C");

                    b.HasIndex(new[] { "NombreRol" }, "UQ__rol__673CB435B48C2A8F")
                        .IsUnique();

                    b.ToTable("rol");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.Severidad", b =>
                {
                    b.Property<int>("IdSeveridad")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_severidad");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IdSeveridad"));

                    b.Property<string>("CategoriaSeveridad")
                        .IsRequired()
                        .HasMaxLength(150)
                        .HasColumnType("nvarchar(150)")
                        .HasColumnName("categoria_severidad");

                    b.Property<string>("Descripcion")
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)")
                        .HasColumnName("descripcion");

                    b.HasKey("IdSeveridad")
                        .HasName("PK__severida__9E59231E6D6E1A69");

                    b.ToTable("severidad");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.SuscripcionNewsletter", b =>
                {
                    b.Property<int>("IdSuscripcion")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_suscripcion");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IdSuscripcion"));

                    b.Property<string>("Correo")
                        .IsRequired()
                        .HasMaxLength(150)
                        .HasColumnType("nvarchar(150)")
                        .HasColumnName("correo");

                    b.Property<bool>("EstaActivo")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true)
                        .HasColumnName("esta_activo");

                    b.Property<DateTime>("FechaAlta")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime")
                        .HasColumnName("fecha_alta")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.HasKey("IdSuscripcion")
                        .HasName("PK__suscripc__4E8926BBEEABEBEA");

                    b.HasIndex(new[] { "Correo" }, "UQ__suscripc__2A586E0B15B16B06")
                        .IsUnique();

                    b.ToTable("suscripcion_newsletter");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.TipoMovimientoInventario", b =>
                {
                    b.Property<int>("IdTipoMovimientoInventario")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_tipo_movimiento_inventario");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IdTipoMovimientoInventario"));

                    b.Property<string>("Descripcion")
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)")
                        .HasColumnName("descripcion");

                    b.Property<bool>("EsEntrada")
                        .HasColumnType("bit")
                        .HasColumnName("es_entrada");

                    b.Property<bool>("EstaActivo")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true)
                        .HasColumnName("esta_activo");

                    b.Property<DateTime>("FechaCreacion")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_creacion")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<string>("NombreMovimientoInventario")
                        .IsRequired()
                        .HasMaxLength(150)
                        .HasColumnType("nvarchar(150)")
                        .HasColumnName("nombre_movimiento_inventario");

                    b.HasKey("IdTipoMovimientoInventario")
                        .HasName("PK__tipo_mov__D8AF2C3B91AC4AFB");

                    b.HasIndex(new[] { "NombreMovimientoInventario" }, "UQ__tipo_mov__5C071637832F1DCB")
                        .IsUnique();

                    b.HasIndex(new[] { "NombreMovimientoInventario" }, "UQ_tipo_movimiento_inventario")
                        .IsUnique();

                    b.ToTable("tipo_movimiento_inventario");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.TipoToken", b =>
                {
                    b.Property<int>("IdTipoToken")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_tipo_token");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IdTipoToken"));

                    b.Property<string>("Descripcion")
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)")
                        .HasColumnName("descripcion");

                    b.Property<bool>("EstaActivo")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true)
                        .HasColumnName("esta_activo");

                    b.Property<DateTime>("FechaCreacion")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_creacion")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<string>("NombreTipoToken")
                        .IsRequired()
                        .HasMaxLength(150)
                        .HasColumnType("nvarchar(150)")
                        .HasColumnName("nombre_tipo_token");

                    b.HasKey("IdTipoToken")
                        .HasName("PK__tipo_tok__EBA9B06D7ADD5046");

                    b.HasIndex(new[] { "NombreTipoToken" }, "UQ__tipo_tok__AF00178A53EE7703")
                        .IsUnique();

                    b.HasIndex(new[] { "NombreTipoToken" }, "UQ_tipo_token_nombre_tipo_token")
                        .IsUnique();

                    b.ToTable("tipo_token");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.Usuario", b =>
                {
                    b.Property<int>("IdUsuario")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_usuario");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IdUsuario"));

                    b.Property<string>("ApellidoMaterno")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)")
                        .HasColumnName("apellido_materno");

                    b.Property<string>("ApellidoPaterno")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)")
                        .HasColumnName("apellido_paterno");

                    b.Property<int>("AutenticacionProveedorId")
                        .HasColumnType("int")
                        .HasColumnName("autenticacion_proveedor_id");

                    b.Property<string>("ContrasenaHash")
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)")
                        .HasColumnName("contrasena_hash");

                    b.Property<string>("ContrasenaSalt")
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)")
                        .HasColumnName("contrasena_salt");

                    b.Property<string>("Correo")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)")
                        .HasColumnName("correo");

                    b.Property<bool>("CorreoVerificado")
                        .HasColumnType("bit")
                        .HasColumnName("correo_verificado");

                    b.Property<bool>("EstaActivo")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true)
                        .HasColumnName("esta_activo");

                    b.Property<DateTime>("FechaActualizacion")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_actualizacion")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<DateTime>("FechaCreacion")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_creacion")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<DateOnly?>("FechaNacimiento")
                        .HasColumnType("date")
                        .HasColumnName("fecha_nacimiento");

                    b.Property<string>("NombreUsuario")
                        .IsRequired()
                        .HasMaxLength(150)
                        .HasColumnType("nvarchar(150)")
                        .HasColumnName("nombre_usuario");

                    b.Property<int>("RolId")
                        .HasColumnType("int")
                        .HasColumnName("rol_id");

                    b.Property<DateTime?>("UltimoLoginUsuario")
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("ultimo_login_usuario");

                    b.HasKey("IdUsuario")
                        .HasName("PK__usuario__4E3E04AD117692B2");

                    b.HasIndex("AutenticacionProveedorId");

                    b.HasIndex("RolId");

                    b.HasIndex(new[] { "Correo" }, "IX_usuario_correo");

                    b.HasIndex(new[] { "Correo" }, "UQ__usuario__2A586E0B359C0364")
                        .IsUnique();

                    b.HasIndex(new[] { "Correo" }, "UQ_usuario_correo")
                        .IsUnique();

                    b.ToTable("usuario");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.UsuarioFavorito", b =>
                {
                    b.Property<int>("IdFavorito")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_favorito");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IdFavorito"));

                    b.Property<bool>("EstaActivo")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true)
                        .HasColumnName("esta_activo");

                    b.Property<DateTime>("FechaAgregado")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_agregado")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<int>("ProductoId")
                        .HasColumnType("int")
                        .HasColumnName("producto_id");

                    b.Property<int>("UsuarioId")
                        .HasColumnType("int")
                        .HasColumnName("usuario_id");

                    b.HasKey("IdFavorito")
                        .HasName("PK__usuario___78F875AEF7790209");

                    b.HasIndex("ProductoId");

                    b.HasIndex(new[] { "UsuarioId" }, "IX_usuario_favorito_usuario");

                    b.ToTable("usuario_favorito");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.UsuarioOauthProveedor", b =>
                {
                    b.Property<int>("IdUsuarioOauth")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_usuario_oauth");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IdUsuarioOauth"));

                    b.Property<string>("AccessToken")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)")
                        .HasColumnName("access_token");

                    b.Property<int>("AutenticacionProveedorId")
                        .HasColumnType("int")
                        .HasColumnName("autenticacion_proveedor_id");

                    b.Property<DateTime>("FechaCreacion")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_creacion")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<DateTime?>("FechaExpiracion")
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_expiracion");

                    b.Property<string>("IdUsuarioExterno")
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)")
                        .HasColumnName("id_usuario_externo");

                    b.Property<int>("UsuarioId")
                        .HasColumnType("int")
                        .HasColumnName("usuario_id");

                    b.HasKey("IdUsuarioOauth")
                        .HasName("PK__usuario___CB87F6149CDFBD91");

                    b.HasIndex("AutenticacionProveedorId");

                    b.HasIndex(new[] { "UsuarioId", "AutenticacionProveedorId" }, "IX_usuario_oauth_usuario");

                    b.ToTable("usuario_oauth_proveedor");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.UsuarioToken", b =>
                {
                    b.Property<int>("IdToken")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_token");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IdToken"));

                    b.Property<string>("CreatedByIp")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)")
                        .HasColumnName("created_by_ip");

                    b.Property<DateTime>("FechaCreacion")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_creacion")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<DateTime?>("FechaExpiracion")
                        .HasPrecision(3)
                        .HasColumnType("datetime2(3)")
                        .HasColumnName("fecha_expiracion");

                    b.Property<string>("ReplacedByTokenHash")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)")
                        .HasColumnName("replaced_by_token_hash");

                    b.Property<bool>("Revoked")
                        .HasColumnType("bit")
                        .HasColumnName("revoked");

                    b.Property<string>("Tipo")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)")
                        .HasColumnName("tipo");

                    b.Property<string>("Token")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)")
                        .HasColumnName("token");

                    b.Property<string>("TokenHash")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)")
                        .HasColumnName("token_hash");

                    b.Property<bool>("Usado")
                        .HasColumnType("bit")
                        .HasColumnName("usado");

                    b.Property<int>("UsuarioId")
                        .HasColumnType("int")
                        .HasColumnName("usuario_id");

                    b.HasKey("IdToken")
                        .HasName("PK__usuario___3C2FA9C4DF6AF564");

                    b.HasIndex(new[] { "UsuarioId", "FechaExpiracion" }, "IX_usuario_token_usuario");

                    b.ToTable("usuario_token");
                });

            modelBuilder.Entity("ProductoRelacionado", b =>
                {
                    b.Property<int>("ProductoId")
                        .HasColumnType("int")
                        .HasColumnName("producto_id");

                    b.Property<int>("ProductoRelacionadoId")
                        .HasColumnType("int")
                        .HasColumnName("producto_relacionado_id");

                    b.HasKey("ProductoId", "ProductoRelacionadoId");

                    b.HasIndex("ProductoRelacionadoId");

                    b.ToTable("producto_relacionado", (string)null);
                });

            modelBuilder.Entity("API_TI.Models.dbModels.AuditoriaEvento", b =>
                {
                    b.HasOne("API_TI.Models.dbModels.Usuario", "Usuario")
                        .WithMany("AuditoriaEventos")
                        .HasForeignKey("UsuarioId")
                        .HasConstraintName("Fk_auditoria_evento_usuario_id_usuario");

                    b.Navigation("Usuario");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.Carrito", b =>
                {
                    b.HasOne("API_TI.Models.dbModels.EstatusVentum", "EstatusVenta")
                        .WithMany("Carritos")
                        .HasForeignKey("EstatusVentaId")
                        .IsRequired()
                        .HasConstraintName("Fk_carrito_estatus_venta_id_estatus_venta");

                    b.HasOne("API_TI.Models.dbModels.Usuario", "Usuario")
                        .WithMany("Carritos")
                        .HasForeignKey("UsuarioId")
                        .IsRequired()
                        .HasConstraintName("Fk_carrito_usuario_id_usuario");

                    b.Navigation("EstatusVenta");

                    b.Navigation("Usuario");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.CarritoDescuento", b =>
                {
                    b.HasOne("API_TI.Models.dbModels.Carrito", "Carrito")
                        .WithMany("CarritoDescuentos")
                        .HasForeignKey("CarritoId")
                        .IsRequired()
                        .HasConstraintName("Fk_carrito_descuento_carrito_id_carrito");

                    b.HasOne("API_TI.Models.dbModels.CarritoItem", "CarritoItem")
                        .WithMany("CarritoDescuentos")
                        .HasForeignKey("CarritoItemId")
                        .HasConstraintName("Fk_carrito_descuento_carrito_item_id_carrito_item");

                    b.HasOne("API_TI.Models.dbModels.Descuento", "Descuento")
                        .WithMany("CarritoDescuentos")
                        .HasForeignKey("DescuentoId")
                        .IsRequired()
                        .HasConstraintName("Fk_carrito_descuento_descuento_id_descuento");

                    b.HasOne("API_TI.Models.dbModels.ReglaDescuento", "ReglaDescuento")
                        .WithMany("CarritoDescuentos")
                        .HasForeignKey("ReglaDescuentoId")
                        .HasConstraintName("Fk_carrito_descuento_regla_descuento_id_regla_descuento");

                    b.Navigation("Carrito");

                    b.Navigation("CarritoItem");

                    b.Navigation("Descuento");

                    b.Navigation("ReglaDescuento");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.CarritoItem", b =>
                {
                    b.HasOne("API_TI.Models.dbModels.Carrito", "Carrito")
                        .WithMany("CarritoItems")
                        .HasForeignKey("CarritoId")
                        .IsRequired()
                        .HasConstraintName("Fk_carrito_item_id_carrito_carrito");

                    b.HasOne("API_TI.Models.dbModels.Producto", "Producto")
                        .WithMany("CarritoItems")
                        .HasForeignKey("ProductoId")
                        .IsRequired()
                        .HasConstraintName("Fk_carrito_item_producto_id_producto");

                    b.Navigation("Carrito");

                    b.Navigation("Producto");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.CategoriaAtributo", b =>
                {
                    b.HasOne("API_TI.Models.dbModels.ProductoAtributo", "Atributo")
                        .WithMany("CategoriaAtributos")
                        .HasForeignKey("AtributoId")
                        .IsRequired()
                        .HasConstraintName("FK_categoria_atributo_producto");

                    b.HasOne("API_TI.Models.dbModels.Categorium", "Categoria")
                        .WithOne("CategoriaAtributo")
                        .HasForeignKey("API_TI.Models.dbModels.CategoriaAtributo", "CategoriaId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("FK_categoria_atributo_categoria");

                    b.Navigation("Atributo");

                    b.Navigation("Categoria");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.Ciudad", b =>
                {
                    b.HasOne("API_TI.Models.dbModels.Estado", "Estado")
                        .WithMany("Ciudads")
                        .HasForeignKey("EstadoId")
                        .IsRequired()
                        .HasConstraintName("Fk_ciudad_estado_id_pais");

                    b.Navigation("Estado");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.ConfiguracionGlobal", b =>
                {
                    b.HasOne("API_TI.Models.dbModels.Usuario", "Usuario")
                        .WithMany("ConfiguracionGlobals")
                        .HasForeignKey("UsuarioId")
                        .HasConstraintName("Fk_configuracion_global_usuario_id_usuario");

                    b.Navigation("Usuario");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.CouponUsado", b =>
                {
                    b.HasOne("API_TI.Models.dbModels.Orden", "Orden")
                        .WithMany("CouponUsados")
                        .HasForeignKey("OrdenId")
                        .IsRequired()
                        .HasConstraintName("Fk_coupon_usado_orden_id_orden");

                    b.HasOne("API_TI.Models.dbModels.ReglaDescuento", "ReglaDescuento")
                        .WithOne("CouponUsado")
                        .HasForeignKey("API_TI.Models.dbModels.CouponUsado", "ReglaDescuentoId")
                        .IsRequired()
                        .HasConstraintName("Fk_coupon_usado_regla_descuento_id_regla_descuento");

                    b.HasOne("API_TI.Models.dbModels.Usuario", "Usuario")
                        .WithOne("CouponUsado")
                        .HasForeignKey("API_TI.Models.dbModels.CouponUsado", "UsuarioId")
                        .IsRequired()
                        .HasConstraintName("Fk_coupon_usado_usuario_id_");

                    b.Navigation("Orden");

                    b.Navigation("ReglaDescuento");

                    b.Navigation("Usuario");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.DescuentoObjetivo", b =>
                {
                    b.HasOne("API_TI.Models.dbModels.Descuento", "Descuento")
                        .WithMany("DescuentoObjetivos")
                        .HasForeignKey("DescuentoId")
                        .IsRequired()
                        .HasConstraintName("FK_descuento_objetivo_descuento");

                    b.Navigation("Descuento");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.Direccion", b =>
                {
                    b.HasOne("API_TI.Models.dbModels.Ciudad", "Ciudad")
                        .WithMany("Direccions")
                        .HasForeignKey("CiudadId")
                        .IsRequired()
                        .HasConstraintName("Fk_direccion_ciudad_id_ciudad");

                    b.HasOne("API_TI.Models.dbModels.Estado", "Estado")
                        .WithMany("Direccions")
                        .HasForeignKey("EstadoId")
                        .IsRequired()
                        .HasConstraintName("Fk_direccion_estado_id_estado");

                    b.HasOne("API_TI.Models.dbModels.Pai", "Pais")
                        .WithMany("Direccions")
                        .HasForeignKey("PaisId")
                        .IsRequired()
                        .HasConstraintName("Fk_direccion_pais_id_pais");

                    b.HasOne("API_TI.Models.dbModels.Usuario", "Usuario")
                        .WithMany("Direccions")
                        .HasForeignKey("UsuarioId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("Fk_direccion_usuario_id_usuario");

                    b.Navigation("Ciudad");

                    b.Navigation("Estado");

                    b.Navigation("Pais");

                    b.Navigation("Usuario");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.Envio", b =>
                {
                    b.HasOne("API_TI.Models.dbModels.EstatusEnvio", "EstatusEnvio")
                        .WithMany("Envios")
                        .HasForeignKey("EstatusEnvioId")
                        .IsRequired()
                        .HasConstraintName("Fk_envio_estatus_envio_id_estatus_envio");

                    b.HasOne("API_TI.Models.dbModels.OperadorEnvio", "OperadorEnvio")
                        .WithMany("Envios")
                        .HasForeignKey("OperadorEnvioId")
                        .IsRequired()
                        .HasConstraintName("Fk_envio_operador_envio_id_operador_envio");

                    b.HasOne("API_TI.Models.dbModels.Orden", "Orden")
                        .WithMany("Envios")
                        .HasForeignKey("OrdenId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("Fk_envio_orden_id_");

                    b.HasOne("API_TI.Models.dbModels.Usuario", "Usuario")
                        .WithMany("Envios")
                        .HasForeignKey("UsuarioId")
                        .IsRequired()
                        .HasConstraintName("Fk_envio_usuario_id_usuario");

                    b.Navigation("EstatusEnvio");

                    b.Navigation("OperadorEnvio");

                    b.Navigation("Orden");

                    b.Navigation("Usuario");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.EnvioEstatusHistorial", b =>
                {
                    b.HasOne("API_TI.Models.dbModels.Envio", "Envio")
                        .WithMany("EnvioEstatusHistorials")
                        .HasForeignKey("EnvioId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("Fk_envio_estatus_historial_envio_id_envio");

                    b.HasOne("API_TI.Models.dbModels.EstatusEnvio", "EstatusEnvio")
                        .WithMany("EnvioEstatusHistorials")
                        .HasForeignKey("EstatusEnvioId")
                        .IsRequired()
                        .HasConstraintName("Fk_envio_estatus_historial_estatus_envio_id_");

                    b.Navigation("Envio");

                    b.Navigation("EstatusEnvio");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.ErrorCodigo", b =>
                {
                    b.HasOne("API_TI.Models.dbModels.Severidad", "Severidad")
                        .WithMany("ErrorCodigos")
                        .HasForeignKey("SeveridadId")
                        .IsRequired()
                        .HasConstraintName("Fk_error_codigo_severidad_id_severidad");

                    b.Navigation("Severidad");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.ErrorLog", b =>
                {
                    b.HasOne("API_TI.Models.dbModels.ErrorCodigo", "CodigoNavigation")
                        .WithMany("ErrorLogs")
                        .HasForeignKey("Codigo")
                        .IsRequired()
                        .HasConstraintName("Fk_error_log_codigo_error_codigo");

                    b.HasOne("API_TI.Models.dbModels.Usuario", "Usuario")
                        .WithMany("ErrorLogs")
                        .HasForeignKey("UsuarioId")
                        .HasConstraintName("Fk_error_log_usuario_id_usuario");

                    b.Navigation("CodigoNavigation");

                    b.Navigation("Usuario");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.Estado", b =>
                {
                    b.HasOne("API_TI.Models.dbModels.Pai", "Pais")
                        .WithMany("Estados")
                        .HasForeignKey("PaisId")
                        .IsRequired()
                        .HasConstraintName("Fk_estado_pais_id_pais");

                    b.Navigation("Pais");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.Factura", b =>
                {
                    b.HasOne("API_TI.Models.dbModels.Orden", "Orden")
                        .WithMany("Facturas")
                        .HasForeignKey("OrdenId")
                        .IsRequired()
                        .HasConstraintName("Fk_factura_orden_id_orden");

                    b.HasOne("API_TI.Models.dbModels.Usuario", "Usuario")
                        .WithMany("Facturas")
                        .HasForeignKey("UsuarioId")
                        .IsRequired()
                        .HasConstraintName("Fk_factura_usuario_id_usuario");

                    b.Navigation("Orden");

                    b.Navigation("Usuario");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.Impuesto", b =>
                {
                    b.HasOne("API_TI.Models.dbModels.Estado", "Estado")
                        .WithMany("Impuestos")
                        .HasForeignKey("EstadoId")
                        .HasConstraintName("Fk_impuesto_estado_id_estado");

                    b.HasOne("API_TI.Models.dbModels.Pai", "Pais")
                        .WithMany("Impuestos")
                        .HasForeignKey("PaisId")
                        .HasConstraintName("Fk_impuesto_pais_id_pais");

                    b.Navigation("Estado");

                    b.Navigation("Pais");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.InventarioActual", b =>
                {
                    b.HasOne("API_TI.Models.dbModels.Producto", "Producto")
                        .WithMany("InventarioActuals")
                        .HasForeignKey("ProductoId")
                        .IsRequired()
                        .HasConstraintName("FK_inventario_actual_producto");

                    b.HasOne("API_TI.Models.dbModels.ProductoVariacion", "Variacion")
                        .WithMany("InventarioActuals")
                        .HasForeignKey("VariacionId")
                        .IsRequired()
                        .HasConstraintName("FK_inventario_actual_variacion_producto");

                    b.Navigation("Producto");

                    b.Navigation("Variacion");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.InventarioMovimiento", b =>
                {
                    b.HasOne("API_TI.Models.dbModels.Producto", "Producto")
                        .WithMany("InventarioMovimientos")
                        .HasForeignKey("ProductoId")
                        .IsRequired()
                        .HasConstraintName("Fk_inventario_movimiento_producto_id_producto");

                    b.HasOne("API_TI.Models.dbModels.TipoMovimientoInventario", "TipoMovimientoInventario")
                        .WithMany("InventarioMovimientos")
                        .HasForeignKey("TipoMovimientoInventarioId")
                        .IsRequired()
                        .HasConstraintName("Fk_inventario_movimiento_tipo_movimiento_inventario_id_tipo_movimiento_inventario");

                    b.HasOne("API_TI.Models.dbModels.Usuario", "Usuario")
                        .WithMany("InventarioMovimientos")
                        .HasForeignKey("UsuarioId")
                        .IsRequired()
                        .HasConstraintName("Fk_inventario_movimiento_usuario_id_usuario");

                    b.HasOne("API_TI.Models.dbModels.ProductoVariacion", "Variacion")
                        .WithMany("InventarioMovimientos")
                        .HasForeignKey("VariacionId")
                        .HasConstraintName("Fk_inventario_movimiento_variacion_id_producto_variacion");

                    b.Navigation("Producto");

                    b.Navigation("TipoMovimientoInventario");

                    b.Navigation("Usuario");

                    b.Navigation("Variacion");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.NotificacionUsuario", b =>
                {
                    b.HasOne("API_TI.Models.dbModels.Usuario", "Usuario")
                        .WithMany("NotificacionUsuarios")
                        .HasForeignKey("UsuarioId")
                        .IsRequired()
                        .HasConstraintName("Fk_notificacion_usuario_usuario_id_usuario");

                    b.Navigation("Usuario");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.Orden", b =>
                {
                    b.HasOne("API_TI.Models.dbModels.Carrito", "Carrito")
                        .WithMany("Ordens")
                        .HasForeignKey("CarritoId")
                        .IsRequired()
                        .HasConstraintName("Fk_orden_carrito_id_carrito");

                    b.HasOne("API_TI.Models.dbModels.Direccion", "DireccionEnvio")
                        .WithMany("Ordens")
                        .HasForeignKey("DireccionEnvioId")
                        .IsRequired()
                        .HasConstraintName("Fk_orden_direccion_envio_id_direccion");

                    b.HasOne("API_TI.Models.dbModels.EstatusVentum", "EstatusVenta")
                        .WithMany("Ordens")
                        .HasForeignKey("EstatusVentaId")
                        .IsRequired()
                        .HasConstraintName("Fk_orden_estatus_venta_id_estatus_venta");

                    b.HasOne("API_TI.Models.dbModels.Impuesto", "Impuesto")
                        .WithMany("Ordens")
                        .HasForeignKey("ImpuestoId")
                        .IsRequired()
                        .HasConstraintName("Fk_orden_impuesto_id_impuesto");

                    b.HasOne("API_TI.Models.dbModels.MetodoPago", "MetodoPago")
                        .WithMany("Ordens")
                        .HasForeignKey("MetodoPagoId")
                        .IsRequired()
                        .HasConstraintName("Fk_orden_metodo_pago_id_metodo_pago");

                    b.HasOne("API_TI.Models.dbModels.Usuario", "Usuario")
                        .WithMany("Ordens")
                        .HasForeignKey("UsuarioId")
                        .IsRequired()
                        .HasConstraintName("Fk_orden_usuario_id_usuario");

                    b.Navigation("Carrito");

                    b.Navigation("DireccionEnvio");

                    b.Navigation("EstatusVenta");

                    b.Navigation("Impuesto");

                    b.Navigation("MetodoPago");

                    b.Navigation("Usuario");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.OrdenDescuento", b =>
                {
                    b.HasOne("API_TI.Models.dbModels.Descuento", "Descuento")
                        .WithMany("OrdenDescuentos")
                        .HasForeignKey("DescuentoId")
                        .IsRequired()
                        .HasConstraintName("Fk_orden_descuento_descuento_id_descuento");

                    b.HasOne("API_TI.Models.dbModels.Orden", "Orden")
                        .WithMany("OrdenDescuentos")
                        .HasForeignKey("OrdenId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("Fk_orden_descuento_orden_id_orden");

                    b.HasOne("API_TI.Models.dbModels.OrdenItem", "OrdenItem")
                        .WithMany("OrdenDescuentos")
                        .HasForeignKey("OrdenItemId")
                        .HasConstraintName("Fk_orden_descuento_orden_item_id_orden_item");

                    b.Navigation("Descuento");

                    b.Navigation("Orden");

                    b.Navigation("OrdenItem");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.OrdenDevolucion", b =>
                {
                    b.HasOne("API_TI.Models.dbModels.EstatusVentum", "EstatusVenta")
                        .WithMany("OrdenDevolucions")
                        .HasForeignKey("EstatusVentaId")
                        .IsRequired()
                        .HasConstraintName("Fk_orden_devolucion_estatus_venta_id_estatus_venta");

                    b.HasOne("API_TI.Models.dbModels.MetodoPago", "MetodoReembolso")
                        .WithMany("OrdenDevolucions")
                        .HasForeignKey("MetodoReembolsoId")
                        .HasConstraintName("Fk_orden_devolucion_metodo_pago_id_metodo_pago");

                    b.HasOne("API_TI.Models.dbModels.Orden", "Orden")
                        .WithMany("OrdenDevolucions")
                        .HasForeignKey("OrdenId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("Fk_orden_devolucion_orden_id_orden");

                    b.HasOne("API_TI.Models.dbModels.OrdenItem", "OrdenItem")
                        .WithMany("OrdenDevolucions")
                        .HasForeignKey("OrdenItemId")
                        .HasConstraintName("Fk_orden_devolucion_orden_item_id_orden_item");

                    b.HasOne("API_TI.Models.dbModels.Usuario", "Usuario")
                        .WithMany("OrdenDevolucions")
                        .HasForeignKey("UsuarioId")
                        .IsRequired()
                        .HasConstraintName("Fk_orden_devolucion_usuario_id_usuario");

                    b.Navigation("EstatusVenta");

                    b.Navigation("MetodoReembolso");

                    b.Navigation("Orden");

                    b.Navigation("OrdenItem");

                    b.Navigation("Usuario");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.OrdenEstadoHistorial", b =>
                {
                    b.HasOne("API_TI.Models.dbModels.EstatusVentum", "EstatusVenta")
                        .WithMany("OrdenEstadoHistorials")
                        .HasForeignKey("EstatusVentaId")
                        .IsRequired()
                        .HasConstraintName("FK_orden_estado_historial_estatus_venta_id_estatus_venta");

                    b.HasOne("API_TI.Models.dbModels.Orden", "Orden")
                        .WithMany("OrdenEstadoHistorials")
                        .HasForeignKey("OrdenId")
                        .IsRequired()
                        .HasConstraintName("FK_orden_estado_historial_orden_id_orden");

                    b.HasOne("API_TI.Models.dbModels.Usuario", "Usuario")
                        .WithMany("OrdenEstadoHistorials")
                        .HasForeignKey("UsuarioId")
                        .IsRequired()
                        .HasConstraintName("FK_orden_estado_historial_usuario_id_usuario");

                    b.Navigation("EstatusVenta");

                    b.Navigation("Orden");

                    b.Navigation("Usuario");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.OrdenItem", b =>
                {
                    b.HasOne("API_TI.Models.dbModels.Orden", "Orden")
                        .WithMany("OrdenItems")
                        .HasForeignKey("OrdenId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("Fk_orden_item_orden_id_orden");

                    b.HasOne("API_TI.Models.dbModels.Producto", "Producto")
                        .WithMany("OrdenItems")
                        .HasForeignKey("ProductoId")
                        .IsRequired()
                        .HasConstraintName("Fk_orden_item_producto_id_producto");

                    b.Navigation("Orden");

                    b.Navigation("Producto");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.PagoTransaccion", b =>
                {
                    b.HasOne("API_TI.Models.dbModels.EstatusPago", "EstatusPago")
                        .WithMany("PagoTransaccions")
                        .HasForeignKey("EstatusPagoId")
                        .HasConstraintName("Fk_pago_transaccion_estatus_pago_id_estatus_pago");

                    b.HasOne("API_TI.Models.dbModels.MetodoPago", "MetodoPago")
                        .WithMany("PagoTransaccions")
                        .HasForeignKey("MetodoPagoId")
                        .IsRequired()
                        .HasConstraintName("Fk_pago_transaccion_metodo_pago_id_metodo_pago");

                    b.HasOne("API_TI.Models.dbModels.Orden", "Orden")
                        .WithMany("PagoTransaccions")
                        .HasForeignKey("OrdenId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("Fk_pago_transaccion_orden_id_orden");

                    b.Navigation("EstatusPago");

                    b.Navigation("MetodoPago");

                    b.Navigation("Orden");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.Producto", b =>
                {
                    b.HasOne("API_TI.Models.dbModels.Categorium", "Categoria")
                        .WithMany("Productos")
                        .HasForeignKey("CategoriaId")
                        .IsRequired()
                        .HasConstraintName("Fk_producto_categoria_id_categoria");

                    b.HasOne("API_TI.Models.dbModels.Marca", "Marca")
                        .WithMany("Productos")
                        .HasForeignKey("MarcaId")
                        .IsRequired()
                        .HasConstraintName("Fk_producto_marca_id_marca");

                    b.HasOne("API_TI.Models.dbModels.Proveedor", "Proveedor")
                        .WithMany("Productos")
                        .HasForeignKey("ProveedorId")
                        .IsRequired()
                        .HasConstraintName("Fk_producto_proveedor_id_proveedor");

                    b.Navigation("Categoria");

                    b.Navigation("Marca");

                    b.Navigation("Proveedor");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.ProductoDescuento", b =>
                {
                    b.HasOne("API_TI.Models.dbModels.Descuento", "Descuento")
                        .WithMany("ProductoDescuentos")
                        .HasForeignKey("DescuentoId")
                        .IsRequired()
                        .HasConstraintName("Fk_producto_descuento_descuento_id_descuento");

                    b.HasOne("API_TI.Models.dbModels.Producto", "Producto")
                        .WithMany("ProductoDescuentos")
                        .HasForeignKey("ProductoId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("Fk_producto_descuento_producto_id_producto");

                    b.Navigation("Descuento");

                    b.Navigation("Producto");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.ProductoHistorialPrecio", b =>
                {
                    b.HasOne("API_TI.Models.dbModels.Producto", "Producto")
                        .WithMany("ProductoHistorialPrecios")
                        .HasForeignKey("ProductoId")
                        .IsRequired()
                        .HasConstraintName("Fk_producto_historial_precio_producto_id_producto");

                    b.HasOne("API_TI.Models.dbModels.Usuario", "Usuario")
                        .WithMany("ProductoHistorialPrecios")
                        .HasForeignKey("UsuarioId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .HasConstraintName("Fk_producto_historial_precio_usuario_id_usuario");

                    b.Navigation("Producto");

                    b.Navigation("Usuario");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.ProductoImagen", b =>
                {
                    b.HasOne("API_TI.Models.dbModels.Producto", "Producto")
                        .WithMany("ProductoImagens")
                        .HasForeignKey("ProductoId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("FK_producto_imagen_producto");

                    b.Navigation("Producto");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.ProductoResena", b =>
                {
                    b.HasOne("API_TI.Models.dbModels.Producto", "Producto")
                        .WithMany("ProductoResenas")
                        .HasForeignKey("ProductoId")
                        .IsRequired()
                        .HasConstraintName("Fk_producto_resena_producto_id_producto");

                    b.HasOne("API_TI.Models.dbModels.Usuario", "Usuario")
                        .WithMany("ProductoResenas")
                        .HasForeignKey("UsuarioId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("Fk_producto_resena_usuario_id_usuario");

                    b.Navigation("Producto");

                    b.Navigation("Usuario");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.ProductoVariacion", b =>
                {
                    b.HasOne("API_TI.Models.dbModels.Producto", "Producto")
                        .WithMany("ProductoVariacions")
                        .HasForeignKey("ProductoId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("Fk_producto_variacion_producto_id_producto");

                    b.Navigation("Producto");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.ProductoVariacionAtributo", b =>
                {
                    b.HasOne("API_TI.Models.dbModels.ProductoAtributo", "Atributo")
                        .WithMany("ProductoVariacionAtributos")
                        .HasForeignKey("AtributoId")
                        .IsRequired()
                        .HasConstraintName("Fk_producto_variacion_atributo_id_atributo_producto_atributo");

                    b.HasOne("API_TI.Models.dbModels.ProductoVariacion", "Variacion")
                        .WithMany("ProductoVariacionAtributos")
                        .HasForeignKey("VariacionId")
                        .IsRequired()
                        .HasConstraintName("Fk_producto_variacion_atributo_id_variacion_producto_variacion");

                    b.Navigation("Atributo");

                    b.Navigation("Variacion");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.Proveedor", b =>
                {
                    b.HasOne("API_TI.Models.dbModels.Ciudad", "Ciudad")
                        .WithMany("Proveedors")
                        .HasForeignKey("CiudadId")
                        .IsRequired()
                        .HasConstraintName("Fk_proveedor_ciudad_id_ciudad");

                    b.HasOne("API_TI.Models.dbModels.Estado", "Estado")
                        .WithMany("Proveedors")
                        .HasForeignKey("EstadoId")
                        .IsRequired()
                        .HasConstraintName("Fk_proveedor_estado_id_estado");

                    b.HasOne("API_TI.Models.dbModels.Pai", "Pais")
                        .WithMany("Proveedors")
                        .HasForeignKey("PaisId")
                        .IsRequired()
                        .HasConstraintName("Fk_proveedor_pais_id_pais");

                    b.Navigation("Ciudad");

                    b.Navigation("Estado");

                    b.Navigation("Pais");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.ReglaDescuento", b =>
                {
                    b.HasOne("API_TI.Models.dbModels.Descuento", "Descuento")
                        .WithMany("ReglaDescuentos")
                        .HasForeignKey("DescuentoId")
                        .IsRequired()
                        .HasConstraintName("Fk_regla_descuento_descuento_id_descuento");

                    b.HasOne("API_TI.Models.dbModels.Usuario", "Usuario")
                        .WithMany("ReglaDescuentos")
                        .HasForeignKey("UsuarioId")
                        .HasConstraintName("Fk_regla_descuento_usuario_id_usuario");

                    b.Navigation("Descuento");

                    b.Navigation("Usuario");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.Usuario", b =>
                {
                    b.HasOne("API_TI.Models.dbModels.AutenticacionProveedor", "AutenticacionProveedor")
                        .WithMany("Usuarios")
                        .HasForeignKey("AutenticacionProveedorId")
                        .IsRequired()
                        .HasConstraintName("Fk_usuario_autenticacion_proveedor_id_autenticacion_proveedor");

                    b.HasOne("API_TI.Models.dbModels.Rol", "Rol")
                        .WithMany("Usuarios")
                        .HasForeignKey("RolId")
                        .IsRequired()
                        .HasConstraintName("Fk_usuario_rol_id_rol");

                    b.Navigation("AutenticacionProveedor");

                    b.Navigation("Rol");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.UsuarioFavorito", b =>
                {
                    b.HasOne("API_TI.Models.dbModels.Producto", "Producto")
                        .WithMany("UsuarioFavoritos")
                        .HasForeignKey("ProductoId")
                        .IsRequired()
                        .HasConstraintName("Fk_usuario_favorito_producto_id_producto");

                    b.HasOne("API_TI.Models.dbModels.Usuario", "Usuario")
                        .WithMany("UsuarioFavoritos")
                        .HasForeignKey("UsuarioId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("Fk_usuario_favorito_usuario_id_usuario");

                    b.Navigation("Producto");

                    b.Navigation("Usuario");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.UsuarioOauthProveedor", b =>
                {
                    b.HasOne("API_TI.Models.dbModels.AutenticacionProveedor", "AutenticacionProveedor")
                        .WithMany("UsuarioOauthProveedors")
                        .HasForeignKey("AutenticacionProveedorId")
                        .IsRequired()
                        .HasConstraintName("Fk_usuario_oauth_proveedor_autenticacion_proveedor_id_autenticacion_proveedor");

                    b.HasOne("API_TI.Models.dbModels.Usuario", "Usuario")
                        .WithMany("UsuarioOauthProveedors")
                        .HasForeignKey("UsuarioId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("Fk_usuario_oauth_proveedor_usuario_id_usuario");

                    b.Navigation("AutenticacionProveedor");

                    b.Navigation("Usuario");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.UsuarioToken", b =>
                {
                    b.HasOne("API_TI.Models.dbModels.Usuario", "Usuario")
                        .WithMany("UsuarioTokens")
                        .HasForeignKey("UsuarioId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("FK_usuario_token_usuario_id_usuario");

                    b.Navigation("Usuario");
                });

            modelBuilder.Entity("ProductoRelacionado", b =>
                {
                    b.HasOne("API_TI.Models.dbModels.Producto", null)
                        .WithMany()
                        .HasForeignKey("ProductoId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("FK_producto_relacionado_producto");

                    b.HasOne("API_TI.Models.dbModels.Producto", null)
                        .WithMany()
                        .HasForeignKey("ProductoRelacionadoId")
                        .IsRequired()
                        .HasConstraintName("FK_producto_relacionado_producto_rel");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.AutenticacionProveedor", b =>
                {
                    b.Navigation("UsuarioOauthProveedors");

                    b.Navigation("Usuarios");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.Carrito", b =>
                {
                    b.Navigation("CarritoDescuentos");

                    b.Navigation("CarritoItems");

                    b.Navigation("Ordens");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.CarritoItem", b =>
                {
                    b.Navigation("CarritoDescuentos");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.Categorium", b =>
                {
                    b.Navigation("CategoriaAtributo");

                    b.Navigation("Productos");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.Ciudad", b =>
                {
                    b.Navigation("Direccions");

                    b.Navigation("Proveedors");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.Descuento", b =>
                {
                    b.Navigation("CarritoDescuentos");

                    b.Navigation("DescuentoObjetivos");

                    b.Navigation("OrdenDescuentos");

                    b.Navigation("ProductoDescuentos");

                    b.Navigation("ReglaDescuentos");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.Direccion", b =>
                {
                    b.Navigation("Ordens");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.Envio", b =>
                {
                    b.Navigation("EnvioEstatusHistorials");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.ErrorCodigo", b =>
                {
                    b.Navigation("ErrorLogs");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.Estado", b =>
                {
                    b.Navigation("Ciudads");

                    b.Navigation("Direccions");

                    b.Navigation("Impuestos");

                    b.Navigation("Proveedors");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.EstatusEnvio", b =>
                {
                    b.Navigation("EnvioEstatusHistorials");

                    b.Navigation("Envios");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.EstatusPago", b =>
                {
                    b.Navigation("PagoTransaccions");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.EstatusVentum", b =>
                {
                    b.Navigation("Carritos");

                    b.Navigation("OrdenDevolucions");

                    b.Navigation("OrdenEstadoHistorials");

                    b.Navigation("Ordens");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.Impuesto", b =>
                {
                    b.Navigation("Ordens");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.Marca", b =>
                {
                    b.Navigation("Productos");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.MetodoPago", b =>
                {
                    b.Navigation("OrdenDevolucions");

                    b.Navigation("Ordens");

                    b.Navigation("PagoTransaccions");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.OperadorEnvio", b =>
                {
                    b.Navigation("Envios");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.Orden", b =>
                {
                    b.Navigation("CouponUsados");

                    b.Navigation("Envios");

                    b.Navigation("Facturas");

                    b.Navigation("OrdenDescuentos");

                    b.Navigation("OrdenDevolucions");

                    b.Navigation("OrdenEstadoHistorials");

                    b.Navigation("OrdenItems");

                    b.Navigation("PagoTransaccions");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.OrdenItem", b =>
                {
                    b.Navigation("OrdenDescuentos");

                    b.Navigation("OrdenDevolucions");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.Pai", b =>
                {
                    b.Navigation("Direccions");

                    b.Navigation("Estados");

                    b.Navigation("Impuestos");

                    b.Navigation("Proveedors");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.Producto", b =>
                {
                    b.Navigation("CarritoItems");

                    b.Navigation("InventarioActuals");

                    b.Navigation("InventarioMovimientos");

                    b.Navigation("OrdenItems");

                    b.Navigation("ProductoDescuentos");

                    b.Navigation("ProductoHistorialPrecios");

                    b.Navigation("ProductoImagens");

                    b.Navigation("ProductoResenas");

                    b.Navigation("ProductoVariacions");

                    b.Navigation("UsuarioFavoritos");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.ProductoAtributo", b =>
                {
                    b.Navigation("CategoriaAtributos");

                    b.Navigation("ProductoVariacionAtributos");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.ProductoVariacion", b =>
                {
                    b.Navigation("InventarioActuals");

                    b.Navigation("InventarioMovimientos");

                    b.Navigation("ProductoVariacionAtributos");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.Proveedor", b =>
                {
                    b.Navigation("Productos");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.ReglaDescuento", b =>
                {
                    b.Navigation("CarritoDescuentos");

                    b.Navigation("CouponUsado");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.Rol", b =>
                {
                    b.Navigation("Usuarios");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.Severidad", b =>
                {
                    b.Navigation("ErrorCodigos");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.TipoMovimientoInventario", b =>
                {
                    b.Navigation("InventarioMovimientos");
                });

            modelBuilder.Entity("API_TI.Models.dbModels.Usuario", b =>
                {
                    b.Navigation("AuditoriaEventos");

                    b.Navigation("Carritos");

                    b.Navigation("ConfiguracionGlobals");

                    b.Navigation("CouponUsado");

                    b.Navigation("Direccions");

                    b.Navigation("Envios");

                    b.Navigation("ErrorLogs");

                    b.Navigation("Facturas");

                    b.Navigation("InventarioMovimientos");

                    b.Navigation("NotificacionUsuarios");

                    b.Navigation("OrdenDevolucions");

                    b.Navigation("OrdenEstadoHistorials");

                    b.Navigation("Ordens");

                    b.Navigation("ProductoHistorialPrecios");

                    b.Navigation("ProductoResenas");

                    b.Navigation("ReglaDescuentos");

                    b.Navigation("UsuarioFavoritos");

                    b.Navigation("UsuarioOauthProveedors");

                    b.Navigation("UsuarioTokens");
                });
#pragma warning restore 612, 618
        }
    }
}
