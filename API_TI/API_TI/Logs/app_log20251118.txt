2025-11-18 03:50:32.024 -06:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-18 03:50:32.064 -06:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-18 03:50:32.084 -06:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-11-18 03:50:32.136 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-11-18 03:50:32.145 -06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-18 03:50:32.146 -06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-18 03:50:32.156 -06:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-18 03:50:32.164 -06:00 [INF] Applying migration '20251118094738_AddUsuarioTokenFields'.
2025-11-18 03:50:32.353 -06:00 [ERR] Failed executing DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [autenticacion_proveedor] (
    [id_autenticacion_proveedor] int NOT NULL IDENTITY,
    [nombre] nvarchar(150) NOT NULL,
    [descripcion] nvarchar(255) NULL,
    [tipo] nvarchar(50) NOT NULL DEFAULT N'local',
    [fecha_creacion] datetime2(3) NOT NULL DEFAULT ((sysdatetime())),
    [esta_activo] bit NOT NULL DEFAULT CAST(1 AS bit),
    CONSTRAINT [PK__autentic__214386326E983766] PRIMARY KEY ([id_autenticacion_proveedor])
);
2025-11-18 03:52:42.404 -06:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-18 03:52:42.444 -06:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-18 03:52:42.458 -06:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-11-18 03:52:42.545 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-11-18 03:52:42.553 -06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-18 03:52:42.554 -06:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-18 03:52:42.557 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-18 03:52:42.571 -06:00 [INF] Applying migration '20251118094738_AddUsuarioTokenFields'.
2025-11-18 03:52:42.746 -06:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [autenticacion_proveedor] (
    [id_autenticacion_proveedor] int NOT NULL IDENTITY,
    [nombre] nvarchar(150) NOT NULL,
    [descripcion] nvarchar(255) NULL,
    [tipo] nvarchar(50) NOT NULL DEFAULT N'local',
    [fecha_creacion] datetime2(3) NOT NULL DEFAULT ((sysdatetime())),
    [esta_activo] bit NOT NULL DEFAULT CAST(1 AS bit),
    CONSTRAINT [PK__autentic__214386326E983766] PRIMARY KEY ([id_autenticacion_proveedor])
);
